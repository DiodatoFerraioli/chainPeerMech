{
  "contractName": "Allocations",
  "abi": [
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint240",
              "name": "shares",
              "type": "uint240"
            },
            {
              "internalType": "uint16",
              "name": "p",
              "type": "uint16"
            }
          ],
          "internalType": "struct Allocations.Allocation",
          "name": "a",
          "type": "tuple"
        }
      ],
      "name": "getP",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "pure",
      "type": "function",
      "constant": true
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint240",
              "name": "shares",
              "type": "uint240"
            },
            {
              "internalType": "uint16",
              "name": "p",
              "type": "uint16"
            }
          ],
          "internalType": "struct Allocations.Allocation",
          "name": "a",
          "type": "tuple"
        }
      ],
      "name": "getShares",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "pure",
      "type": "function",
      "constant": true
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.6.12+commit.27d51765\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"uint240\",\"name\":\"shares\",\"type\":\"uint240\"},{\"internalType\":\"uint16\",\"name\":\"p\",\"type\":\"uint16\"}],\"internalType\":\"struct Allocations.Allocation\",\"name\":\"a\",\"type\":\"tuple\"}],\"name\":\"getP\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint240\",\"name\":\"shares\",\"type\":\"uint240\"},{\"internalType\":\"uint16\",\"name\":\"p\",\"type\":\"uint16\"}],\"internalType\":\"struct Allocations.Allocation\",\"name\":\"a\",\"type\":\"tuple\"}],\"name\":\"getShares\",\"outputs\":[{\"internalType\":\"uint256[]\",\"name\":\"\",\"type\":\"uint256[]\"}],\"stateMutability\":\"pure\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Giovanni Rescinito\",\"kind\":\"dev\",\"methods\":{\"getAllocationAt(Allocations.Map storage,uint256)\":{\"params\":{\"index\":\"allocation for which the probability is required\",\"map\":\"dictionary containing allocations\"},\"returns\":{\"_0\":\"the allocation stored at a specified index\"}},\"getAllocations(Allocations.Map storage)\":{\"params\":{\"map\":\"dictionary containing allocations\"},\"returns\":{\"_0\":\"the list of allocations and the list of corresponding probabilities\"}},\"getP(Allocations.Allocation)\":{\"params\":{\"a\":\"allocation for which the probability is required\"},\"returns\":{\"_0\":\"the probability associated to the allocation\"}},\"getShares(Allocations.Allocation)\":{\"params\":{\"a\":\"allocation for which the winners per cluster are required\"},\"returns\":{\"_0\":\"the winners per cluster associated to the allocation\"}},\"length(Allocations.Map storage)\":{\"params\":{\"map\":\"dictionary containing allocations\"},\"returns\":{\"_0\":\"the number of allocations stored\"}},\"setAllocation(Allocations.Map storage,uint256[],uint256)\":{\"params\":{\"a\":\"winners per cluster to insert/modify\",\"map\":\"dictionary containing allocations\",\"p\":\"probability of the specific allocation\"}},\"updateShares(Allocations.Map storage,uint256,uint256[])\":{\"params\":{\"index\":\"index of the allocation to modify\",\"map\":\"dictionary containing allocations\",\"shares\":\"winners per cluster to update\"}}},\"title\":\"Dictionary storing allocations\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"setAllocation(Allocations.Map storage,uint256[],uint256)\":{\"notice\":\"creates a new allocation or updates the probability of an existing one\"},\"updateShares(Allocations.Map storage,uint256,uint256[])\":{\"notice\":\"updates the winners per cluster of an allocation specified by its index\"}},\"notice\":\"Data structure implemented as an iterable map, produced during the apportionment algorithm to store allocations\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"project:/contracts/Allocations.sol\":\"Allocations\"},\"evmVersion\":\"byzantium\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"project:/contracts/Allocations.sol\":{\"keccak256\":\"0x7ebe03d3c05aec657226f3273b6f71158de194a5fb42388248e5c0badefb5a47\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0151ca4eabee02117fd1411b98d80450de09de69f9ebda7bf28b3a8fdce31fe5\",\"dweb:/ipfs/QmUS2dnPSpXpZVmda6vA8NjXHBZmFkznBjj44WMs8cR5Aq\"]},\"project:/contracts/Zipper.sol\":{\"keccak256\":\"0x03574a9ac12bbb804b84ed628b7e3c00c6fbe79e069206374f6126aa2653217e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e5f5cab56bf656a4c3aaae8b4614a0b79d7105a375f919fd3dec2bdc0984eedf\",\"dweb:/ipfs/QmTKw4Q2nxV7y4tJ4GBm2yeGVTasn6eV5heKbiBAL5btKF\"]}},\"version\":1}",
  "bytecode": "0x610c15610026600b82828239805160001a60731461001957fe5b30600052607381538281f3fe73000000000000000000000000000000000000000030146080604052600436106100a4576000357c010000000000000000000000000000000000000000000000000000000090048063a239e25611610082578063a239e25614610107578063ba776fdb14610128578063bf506b1614610148578063cbbbd48514610168576100a4565b80634398d1b5146100a957806374eef8d5146100d257806390906e42146100e5575b600080fd5b6100bc6100b73660046108a1565b610188565b6040516100c99190610b8f565b60405180910390f35b6100bc6100e0366004610837565b61018c565b8180156100f157600080fd5b506101056101003660046108b9565b6101a8565b005b61011a6101153660046108a1565b610361565b6040516100c9929190610a3a565b81801561013457600080fd5b5061010561014336600461092b565b6104c6565b61015b61015636600461084e565b610604565b6040516100c99190610b08565b61017b61017636600461090a565b6106b4565b6040516100c99190610b52565b5490565b600061019e604083016020840161097c565b61ffff1692915050565b600083836040516020016101bd9291906109f7565b60408051601f1981840301815291815281516020928301206000818152600189019093529120549091508061031e5760408051808201918290527fd4a8c0e10000000000000000000000000000000000000000000000000000000090915286908073__Zipper________________________________63d4a8c0e16102488a8a600860448701610aae565b60206040518083038186803b15801561026057600080fd5b505af4158015610274573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061029891906109a5565b600160f060020a03908116825261ffff80881660209384015284546001818101875560009687528487208651920180549686015190931660f060020a029184167fffff0000000000000000000000000000000000000000000000000000000000009096169590951790921691909117905588548584529189019052604090912055610359565b8286600001600183038154811061033157fe5b90600052602060002001600001601e6101000a81548161ffff021916908361ffff1602179055505b505050505050565b80546060908190818167ffffffffffffffff8111801561038057600080fd5b506040519080825280602002602001820160405280156103b457816020015b606081526020019060019003908161039f5790505b50905060608267ffffffffffffffff811180156103d057600080fd5b506040519080825280602002602001820160405280156103fa578160200160208202803683370190505b50905060005b838110156104ba5761045587600001828154811061041a57fe5b600091825260209182902060408051808201909152910154600160f060020a038116825260f060020a900461ffff1691810191909152610604565b83828151811061046157fe5b602002602001018190525086600001818154811061047b57fe5b90600052602060002001600001601e9054906101000a900461ffff1661ffff168282815181106104a757fe5b6020908102919091010152600101610400565b50909350915050915091565b83548310610509576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161050090610b1b565b60405180910390fd5b6040517fd4a8c0e100000000000000000000000000000000000000000000000000000000815273__Zipper________________________________9063d4a8c0e19061055e9085908590600890600401610aae565b60206040518083038186803b15801561057657600080fd5b505af415801561058a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105ae91906109a5565b8460000184815481106105bd57fe5b600091825260209091200180547fffff00000000000000000000000000000000000000000000000000000000000016600160f060020a039290921691909117905550505050565b80516040517fb9ea425200000000000000000000000000000000000000000000000000000000815260609173__Zipper________________________________9163b9ea42529161065a91600890600401610b76565b60006040518083038186803b15801561067257600080fd5b505af4158015610686573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526106ae91908101906107a2565b92915050565b6106bc610742565b825482106106f6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161050090610b1b565b82600001828154811061070557fe5b600091825260209182902060408051808201909152910154600160f060020a038116825260f060020a900461ffff16918101919091529392505050565b604080518082019091526000808252602082015290565b60008083601f84011261076a578182fd5b50813567ffffffffffffffff811115610781578182fd5b602083019150836020808302850101111561079b57600080fd5b9250929050565b600060208083850312156107b4578182fd5b825167ffffffffffffffff8111156107ca578283fd5b8301601f810185136107da578283fd5b80516107ed6107e882610bbf565b610b98565b8181528381019083850185840285018601891015610809578687fd5b8694505b8385101561082b57805183526001949094019391850191850161080d565b50979650505050505050565b600060408284031215610848578081fd5b50919050565b60006040828403121561085f578081fd5b6108696040610b98565b8235600160f060020a038116811461087f578283fd5b8152602083013561ffff81168114610895578283fd5b60208201529392505050565b6000602082840312156108b2578081fd5b5035919050565b600080600080606085870312156108ce578283fd5b84359350602085013567ffffffffffffffff8111156108eb578384fd5b6108f787828801610759565b9598909750949560400135949350505050565b6000806040838503121561091c578182fd5b50508035926020909101359150565b60008060008060608587031215610940578384fd5b8435935060208501359250604085013567ffffffffffffffff811115610964578283fd5b61097087828801610759565b95989497509550505050565b60006020828403121561098d578081fd5b813561ffff8116811461099e578182fd5b9392505050565b6000602082840312156109b6578081fd5b5051919050565b6000815180845260208085019450808401835b838110156109ec578151875295820195908201906001016109d0565b509495945050505050565b60007f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff831115610a25578081fd5b60208302808584379190910190815292915050565b60006040820160408352808551808352606085019150602092506060838202860101838801855b83811015610a8f57605f19888403018552610a7d8383516109bd565b94860194925090850190600101610a61565b505085810384870152610aa281886109bd565b98975050505050505050565b6000604082528360408301527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff841115610ae6578081fd5b6020840280866060850137820160600190815260209091019190915292915050565b60006020825261099e60208301846109bd565b60208082526011908201527f4d6170206f7574206f6620626f756e6473000000000000000000000000000000604082015260600190565b8151600160f060020a0316815260209182015161ffff169181019190915260400190565b600160f060020a03929092168252602082015260400190565b90815260200190565b60405181810167ffffffffffffffff81118282101715610bb757600080fd5b604052919050565b600067ffffffffffffffff821115610bd5578081fd5b506020908102019056fea26469706673582212202fb5739d369cae6446769fe3b464c53e850fe415b1a61a45f1e55aa1fdb556cc64736f6c634300060c0033",
  "deployedBytecode": "0x73000000000000000000000000000000000000000030146080604052600436106100a4576000357c010000000000000000000000000000000000000000000000000000000090048063a239e25611610082578063a239e25614610107578063ba776fdb14610128578063bf506b1614610148578063cbbbd48514610168576100a4565b80634398d1b5146100a957806374eef8d5146100d257806390906e42146100e5575b600080fd5b6100bc6100b73660046108a1565b610188565b6040516100c99190610b8f565b60405180910390f35b6100bc6100e0366004610837565b61018c565b8180156100f157600080fd5b506101056101003660046108b9565b6101a8565b005b61011a6101153660046108a1565b610361565b6040516100c9929190610a3a565b81801561013457600080fd5b5061010561014336600461092b565b6104c6565b61015b61015636600461084e565b610604565b6040516100c99190610b08565b61017b61017636600461090a565b6106b4565b6040516100c99190610b52565b5490565b600061019e604083016020840161097c565b61ffff1692915050565b600083836040516020016101bd9291906109f7565b60408051601f1981840301815291815281516020928301206000818152600189019093529120549091508061031e5760408051808201918290527fd4a8c0e10000000000000000000000000000000000000000000000000000000090915286908073__Zipper________________________________63d4a8c0e16102488a8a600860448701610aae565b60206040518083038186803b15801561026057600080fd5b505af4158015610274573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061029891906109a5565b600160f060020a03908116825261ffff80881660209384015284546001818101875560009687528487208651920180549686015190931660f060020a029184167fffff0000000000000000000000000000000000000000000000000000000000009096169590951790921691909117905588548584529189019052604090912055610359565b8286600001600183038154811061033157fe5b90600052602060002001600001601e6101000a81548161ffff021916908361ffff1602179055505b505050505050565b80546060908190818167ffffffffffffffff8111801561038057600080fd5b506040519080825280602002602001820160405280156103b457816020015b606081526020019060019003908161039f5790505b50905060608267ffffffffffffffff811180156103d057600080fd5b506040519080825280602002602001820160405280156103fa578160200160208202803683370190505b50905060005b838110156104ba5761045587600001828154811061041a57fe5b600091825260209182902060408051808201909152910154600160f060020a038116825260f060020a900461ffff1691810191909152610604565b83828151811061046157fe5b602002602001018190525086600001818154811061047b57fe5b90600052602060002001600001601e9054906101000a900461ffff1661ffff168282815181106104a757fe5b6020908102919091010152600101610400565b50909350915050915091565b83548310610509576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161050090610b1b565b60405180910390fd5b6040517fd4a8c0e100000000000000000000000000000000000000000000000000000000815273__Zipper________________________________9063d4a8c0e19061055e9085908590600890600401610aae565b60206040518083038186803b15801561057657600080fd5b505af415801561058a573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105ae91906109a5565b8460000184815481106105bd57fe5b600091825260209091200180547fffff00000000000000000000000000000000000000000000000000000000000016600160f060020a039290921691909117905550505050565b80516040517fb9ea425200000000000000000000000000000000000000000000000000000000815260609173__Zipper________________________________9163b9ea42529161065a91600890600401610b76565b60006040518083038186803b15801561067257600080fd5b505af4158015610686573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526106ae91908101906107a2565b92915050565b6106bc610742565b825482106106f6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161050090610b1b565b82600001828154811061070557fe5b600091825260209182902060408051808201909152910154600160f060020a038116825260f060020a900461ffff16918101919091529392505050565b604080518082019091526000808252602082015290565b60008083601f84011261076a578182fd5b50813567ffffffffffffffff811115610781578182fd5b602083019150836020808302850101111561079b57600080fd5b9250929050565b600060208083850312156107b4578182fd5b825167ffffffffffffffff8111156107ca578283fd5b8301601f810185136107da578283fd5b80516107ed6107e882610bbf565b610b98565b8181528381019083850185840285018601891015610809578687fd5b8694505b8385101561082b57805183526001949094019391850191850161080d565b50979650505050505050565b600060408284031215610848578081fd5b50919050565b60006040828403121561085f578081fd5b6108696040610b98565b8235600160f060020a038116811461087f578283fd5b8152602083013561ffff81168114610895578283fd5b60208201529392505050565b6000602082840312156108b2578081fd5b5035919050565b600080600080606085870312156108ce578283fd5b84359350602085013567ffffffffffffffff8111156108eb578384fd5b6108f787828801610759565b9598909750949560400135949350505050565b6000806040838503121561091c578182fd5b50508035926020909101359150565b60008060008060608587031215610940578384fd5b8435935060208501359250604085013567ffffffffffffffff811115610964578283fd5b61097087828801610759565b95989497509550505050565b60006020828403121561098d578081fd5b813561ffff8116811461099e578182fd5b9392505050565b6000602082840312156109b6578081fd5b5051919050565b6000815180845260208085019450808401835b838110156109ec578151875295820195908201906001016109d0565b509495945050505050565b60007f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff831115610a25578081fd5b60208302808584379190910190815292915050565b60006040820160408352808551808352606085019150602092506060838202860101838801855b83811015610a8f57605f19888403018552610a7d8383516109bd565b94860194925090850190600101610a61565b505085810384870152610aa281886109bd565b98975050505050505050565b6000604082528360408301527f07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff841115610ae6578081fd5b6020840280866060850137820160600190815260209091019190915292915050565b60006020825261099e60208301846109bd565b60208082526011908201527f4d6170206f7574206f6620626f756e6473000000000000000000000000000000604082015260600190565b8151600160f060020a0316815260209182015161ffff169181019190915260400190565b600160f060020a03929092168252602082015260400190565b90815260200190565b60405181810167ffffffffffffffff81118282101715610bb757600080fd5b604052919050565b600067ffffffffffffffff821115610bd5578081fd5b506020908102019056fea26469706673582212202fb5739d369cae6446769fe3b464c53e850fe415b1a61a45f1e55aa1fdb556cc64736f6c634300060c0033",
  "immutableReferences": {},
  "sourceMap": "316:3347:15:-:0;;;;;;;;;;;;;;;;;;;;;;;;;",
  "deployedSourceMap": "316:3347:15:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2086:104;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;:::-;;;;;;;;2872:93;;;;;;:::i;:::-;;:::i;1045:410::-;;;;;;;;;;-1:-1:-1;1045:410:15;;;;;:::i;:::-;;:::i;:::-;;2333:406;;;;;;:::i;:::-;;:::i;:::-;;;;;;;;:::i;1709:254::-;;;;;;;;;;-1:-1:-1;1709:254:15;;;;;:::i;:::-;;:::i;3115:137::-;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;3440:221::-;;;;;;:::i;:::-;;:::i;:::-;;;;;;;:::i;2086:104::-;2164:19;;2086:104::o;2872:93::-;2932:4;2955:3;;;;;;;;:::i;:::-;2948:10;;;2872:93;-1:-1:-1;;2872:93:15:o;1045:410::-;1131:9;1170:1;;1153:19;;;;;;;;;:::i;:::-;;;;-1:-1:-1;;1153:19:15;;;;;;;;;1143:30;;1153:19;1143:30;;;;1183:10;1196;;;:7;;;:10;;;;;;1143:30;;-1:-1:-1;1220:10:15;1216:233;;1264:60;;;;;;;;;;1283:28;;;;1246:3;;1264:60;1283:6;:23;:28;1307:1;;1309;1283:28;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;1264:60:15;;;;;;;;;;;;;;1246:79;;;;;;;;-1:-1:-1;1246:79:15;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;1246:79:15;;;;;;;;;;;;;;;;;;;;;1352:19;;1339:10;;;:7;;;:10;;;;;;:32;1216:233;;;1436:1;1401:3;:12;;1422:1;1414:5;:9;1401:23;;;;;;;;;;;;;;;:25;;;:37;;;;;;;;;;;;;;;;;;1216:233;1045:410;;;;;;:::o;2333:406::-;2448:19;;2397:15;;;;;2448:19;2507:15;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2477:45;;2532:15;2561:1;2550:13;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;2550:13:15;;2532:31;;2578:6;2573:128;2589:1;2587;:3;2573:128;;;2626:26;2636:3;:12;;2649:1;2636:15;;;;;;;;;;;;;;;;;2626:26;;;;;;;;;2636:15;;2626:26;-1:-1:-1;;;;;2626:26:15;;;;-1:-1:-1;;;2626:26:15;;;;;;;;;;;:9;:26::i;:::-;2609:11;2621:1;2609:14;;;;;;;;;;;;;:43;;;;2673:3;:12;;2686:1;2673:15;;;;;;;;;;;;;;;:17;;;;;;;;;;;;2666:24;;:1;2668;2666:4;;;;;;;;;;;;;;;;;:24;2591:3;;2573:128;;;-1:-1:-1;2718:11:15;;-1:-1:-1;2730:1:15;-1:-1:-1;;2333:406:15;;;:::o;1709:254::-;1833:19;;1825:27;;1803:71;;;;;;;;;;;;:::i;:::-;;;;;;;;;1922:33;;;;;:6;;:23;;:33;;1946:6;;;;1953:1;;1922:33;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1885:3;:12;;1898:5;1885:19;;;;;;;;;;;;;;;;;:71;;;;-1:-1:-1;;;;;1885:71:15;;;;;;;;;;-1:-1:-1;;;;1709:254:15:o;3115:137::-;3234:8;;3208:37;;;;;3176:13;;3208:6;;:25;;:37;;3243:1;;3208:37;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;3208:37:15;;;;;;;;;;;;:::i;:::-;3201:44;3115:137;-1:-1:-1;;3115:137:15:o;3440:221::-;3517:17;;:::i;:::-;3576:19;;3568:27;;3546:71;;;;;;;;;;;;:::i;:::-;3635:3;:12;;3648:5;3635:19;;;;;;;;;;;;;;;;;3628:26;;;;;;;;;3635:19;;3628:26;-1:-1:-1;;;;;3628:26:15;;;;-1:-1:-1;;;3628:26:15;;;;;;;;;;;;3440:221;-1:-1:-1;;;3440:221:15:o;-1:-1:-1:-;;;;;;;;;;;;;;;;;;;:::o;23:352::-;;;153:3;146:4;138:6;134:17;130:27;120:2;;-1:-1;;161:12;120:2;-1:-1;191:20;;231:18;220:30;;217:2;;;-1:-1;;253:12;217:2;297:4;289:6;285:17;273:29;;348:3;297:4;;332:6;328:17;289:6;314:32;;311:41;308:2;;;365:1;;355:12;308:2;113:262;;;;;:::o;2579:392::-;;2719:2;;2707:9;2698:7;2694:23;2690:32;2687:2;;;-1:-1;;2725:12;2687:2;2776:17;2770:24;2814:18;2806:6;2803:30;2800:2;;;-1:-1;;2836:12;2800:2;2923:22;;522:4;510:17;;506:27;-1:-1;496:2;;-1:-1;;537:12;496:2;577:6;571:13;599:80;614:64;671:6;614:64;:::i;:::-;599:80;:::i;:::-;707:21;;;764:14;;;;739:17;;;853;;;844:27;;;;841:36;-1:-1;838:2;;;-1:-1;;880:12;838:2;-1:-1;906:10;;900:217;925:6;922:1;919:13;900:217;;;2516:13;;993:61;;947:1;940:9;;;;;1068:14;;;;1096;;900:217;;;-1:-1;2856:99;2681:290;-1:-1;;;;;;;2681:290::o;2978:301::-;;3112:2;3100:9;3091:7;3087:23;3083:32;3080:2;;;-1:-1;;3118:12;3080:2;-1:-1;3170:93;3074:205;-1:-1;3074:205::o;3286:297::-;;3418:2;3406:9;3397:7;3393:23;3389:32;3386:2;;;-1:-1;;3424:12;3386:2;1526:20;3418:2;1526:20;:::i;:::-;2244:6;2231:20;-1:-1;;;;;19114:5;18180:74;19089:5;19086:35;19076:2;;-1:-1;;19125:12;19076:2;1605:75;;1738:2;1791:22;;2095:20;18099:6;18088:18;;18963:34;;18953:2;;-1:-1;;19001:12;18953:2;1738;1753:16;;1746:74;1757:5;3380:203;-1:-1;;;3380:203::o;3590:285::-;;3716:2;3704:9;3695:7;3691:23;3687:32;3684:2;;;-1:-1;;3722:12;3684:2;-1:-1;1937:20;;3678:197;-1:-1;3678:197::o;3882:691::-;;;;;4077:2;4065:9;4056:7;4052:23;4048:32;4045:2;;;-1:-1;;4083:12;4045:2;1950:6;1937:20;4135:85;;4285:2;4274:9;4270:18;4257:32;4309:18;4301:6;4298:30;4295:2;;;-1:-1;;4331:12;4295:2;4369:80;4441:7;4432:6;4421:9;4417:22;4369:80;:::i;:::-;4039:534;;4351:98;;-1:-1;4351:98;;4486:2;4525:22;2368:20;;4039:534;-1:-1;;;;4039:534::o;4580:410::-;;;4723:2;4711:9;4702:7;4698:23;4694:32;4691:2;;;-1:-1;;4729:12;4691:2;-1:-1;;1937:20;;;4903:2;4942:22;;;2368:20;;-1:-1;4685:305::o;4997:691::-;;;;;5192:2;5180:9;5171:7;5167:23;5163:32;5160:2;;;-1:-1;;5198:12;5160:2;1950:6;1937:20;5250:85;;5372:2;5415:9;5411:22;2368:20;5380:63;;5508:2;5497:9;5493:18;5480:32;5532:18;5524:6;5521:30;5518:2;;;-1:-1;;5554:12;5518:2;5592:80;5664:7;5655:6;5644:9;5640:22;5592:80;:::i;:::-;5154:534;;;;-1:-1;5574:98;-1:-1;;;;5154:534::o;5695:239::-;;5798:2;5786:9;5777:7;5773:23;5769:32;5766:2;;;-1:-1;;5804:12;5766:2;2108:6;2095:20;18099:6;18990:5;18088:18;18966:5;18963:34;18953:2;;-1:-1;;19001:12;18953:2;5856:62;5760:174;-1:-1;;;5760:174::o;5941:263::-;;6056:2;6044:9;6035:7;6031:23;6027:32;6024:2;;;-1:-1;;6062:12;6024:2;-1:-1;2516:13;;6018:186;-1:-1;6018:186::o;8897:714::-;;9098:5;16545:12;17149:6;17144:3;17137:19;17186:4;;17181:3;17177:14;9110:101;;17186:4;9282:5;16216:14;-1:-1;9321:268;9346:6;9343:1;9340:13;9321:268;;;9407:13;;11867:37;;6659:14;;;;16844;;;;9368:1;9361:9;9321:268;;;-1:-1;9595:10;;9029:582;-1:-1;;;;;9029:582::o;12034:355::-;;8650:66;8642:6;8639:78;8636:2;;;-1:-1;;8720:12;8636:2;8763:4;8755:6;8751:17;18665:6;18660:3;18655;18642:30;18703:16;;;;18696:27;;;18703:16;12210:179;-1:-1;;12210:179::o;12396:753::-;;12709:2;12698:9;12694:18;12709:2;12730:17;12723:47;12784:166;6998:5;16545:12;17149:6;17144:3;17137:19;17177:14;12698:9;17177:14;7010:126;;17186:4;;;17177:14;17186:4;7193:6;7189:17;12698:9;7180:27;;17186:4;7303:5;16216:14;-1:-1;7342:413;7367:6;7364:1;7361:13;7342:413;;;7419:20;;12698:9;7423:4;7419:20;;7414:3;7407:33;6371:104;6471:3;7474:6;7468:13;6371:104;:::i;:::-;7734:14;;;;7488:130;-1:-1;16844:14;;;;7389:1;7382:9;7342:413;;;7346:14;;12998:9;12992:4;12988:20;17186:4;12972:9;12968:18;12961:48;13023:116;13134:4;13125:6;13023:116;:::i;:::-;13015:124;12680:469;-1:-1;;;;;;;;12680:469::o;13156:541::-;;13387:2;13408:17;13401:47;17149:6;13387:2;13376:9;13372:18;17137:19;8108:66;8100:6;8097:78;8094:2;;;-1:-1;;8178:12;8094:2;17186:4;8213:6;8209:17;18665:6;18660:3;17177:14;13376:9;17177:14;18642:30;18703:16;;17177:14;18703:16;18696:27;;;17186:4;13668:18;;;10439:58;;;;18703:16;13358:339;-1:-1;;13358:339::o;13704:386::-;;13889:2;13910:17;13903:47;13964:116;13889:2;13878:9;13874:18;14066:6;13964:116;:::i;14097:416::-;14297:2;14311:47;;;10734:2;14282:18;;;17137:19;10770;17177:14;;;10750:40;10809:12;;;14268:245::o;14520:350::-;11129:23;;-1:-1;;;;;18180:74;11598:37;;11305:4;11294:16;;;11288:23;18099:6;18088:18;11371:14;;;11481:36;;;;14711:2;14696:18;;14682:188::o;14877:373::-;-1:-1;;;;;18180:74;;;;11726:50;;15236:2;15221:18;;10439:58;15048:2;15033:18;;15019:231::o;15257:238::-;11867:37;;;15392:2;15377:18;;15363:132::o;15502:256::-;15564:2;15558:9;15590:17;;;15665:18;15650:34;;15686:22;;;15647:62;15644:2;;;15722:1;;15712:12;15644:2;15564;15731:22;15542:216;;-1:-1;15542:216::o;15765:304::-;;15924:18;15916:6;15913:30;15910:2;;;-1:-1;;15946:12;15910:2;-1:-1;15991:4;15979:17;;;16044:15;;15847:222::o",
  "source": "// SPDX-License-Identifier: MIT\n\npragma solidity >=0.4.18;\npragma experimental ABIEncoderV2;\n\nimport \"./Zipper.sol\";\n\n\n/// @title Dictionary storing allocations\n/// @author Giovanni Rescinito\n/// @notice Data structure implemented as an iterable map, produced during the apportionment algorithm to store allocations\nlibrary Allocations {\n    //Data Structures\n\n    /// @notice Data structure related to a single allocation\n    struct Allocation {\n        uint240 shares;     // winners per cluster\n        uint16 p;           // probability of the allocation\n    }\n\n    /// @notice Dictionary containing allocations\n    struct Map {\n        Allocation[] elements;          // list of allocations\n        mapping (bytes32 => uint) idx;  // maps key to index in the list\n    }\n\n    //Setters\n\n    /// @notice creates a new allocation or updates the probability of an existing one\n    /// @param map dictionary containing allocations\n    /// @param a winners per cluster to insert/modify\n    /// @param p probability of the specific allocation\n    function setAllocation(Map storage map, uint[] calldata a, uint p) external {\n        bytes32 h = keccak256(abi.encodePacked(a));\n        uint index = map.idx[h];\n        if (index == 0) {\n            map.elements.push(Allocation(uint240(Zipper.zipArrayWithSize(a,8)), uint16(p)));\n            map.idx[h] = map.elements.length;\n        }else {\n            map.elements[index - 1].p = uint16(p);\n        }\n    }\n\n    /// @notice updates the winners per cluster of an allocation specified by its index\n    /// @param map dictionary containing allocations\n    /// @param index index of the allocation to modify\n    /// @param shares winners per cluster to update\n    function updateShares(Map storage map, uint index, uint[] calldata shares) external {\n        require(index >= 0 && index < map.elements.length, \"Map out of bounds\"); \n        map.elements[index].shares = uint240(Zipper.zipArrayWithSize(shares,8));\n    }\n\n    //Getters\n\n    /// @param map dictionary containing allocations\n    /// @return the number of allocations stored\n    function length(Map storage map) view external returns (uint){\n        return map.elements.length;\n    }\n\n    /// @param map dictionary containing allocations\n    /// @return the list of allocations and the list of corresponding probabilities\n    function getAllocations(Map storage map) view external returns (uint[][] memory, uint[] memory) {\n        uint n = map.elements.length;\n        uint[][] memory allocations = new uint[][](n);\n        uint[] memory p = new uint[](n);\n        for (uint i=0;i<n;i++){\n            allocations[i] = getShares(map.elements[i]);\n            p[i] = map.elements[i].p;\n        }\n        return (allocations,p);\n    }\n\n    /// @param a allocation for which the probability is required\n    /// @return the probability associated to the allocation\n    function getP(Allocation calldata a) pure external returns (uint) {\n        return a.p;\n    }\n\n    /// @param a allocation for which the winners per cluster are required\n    /// @return the winners per cluster associated to the allocation\n    function getShares(Allocation memory a) pure public returns (uint[] memory) {\n        return Zipper.unzipArrayWithSize(a.shares,8);\n    }\n\n    /// @param map dictionary containing allocations\n    /// @param index allocation for which the probability is required\n    /// @return the allocation stored at a specified index\n    function getAllocationAt(Map storage map, uint index) view external returns (Allocation memory) {\n        require(index >= 0 && index < map.elements.length, \"Map out of bounds\"); \n        return map.elements[index];\n    }\n}\n",
  "sourcePath": "C:\\Users\\Claudio\\Desktop\\Tesi\\Codice reviews\\reviews - ipfs\\contracts\\Allocations.sol",
  "ast": {
    "absolutePath": "project:/contracts/Allocations.sol",
    "exportedSymbols": {
      "Allocations": [
        3300
      ]
    },
    "id": 3301,
    "license": "MIT",
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 3011,
        "literals": [
          "solidity",
          ">=",
          "0.4",
          ".18"
        ],
        "nodeType": "PragmaDirective",
        "src": "33:25:15"
      },
      {
        "id": 3012,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "59:33:15"
      },
      {
        "absolutePath": "project:/contracts/Zipper.sol",
        "file": "./Zipper.sol",
        "id": 3013,
        "nodeType": "ImportDirective",
        "scope": 3301,
        "sourceUnit": 9743,
        "src": "94:22:15",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "library",
        "documentation": {
          "id": 3014,
          "nodeType": "StructuredDocumentation",
          "src": "119:197:15",
          "text": "@title Dictionary storing allocations\n @author Giovanni Rescinito\n @notice Data structure implemented as an iterable map, produced during the apportionment algorithm to store allocations"
        },
        "fullyImplemented": true,
        "id": 3300,
        "linearizedBaseContracts": [
          3300
        ],
        "name": "Allocations",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "canonicalName": "Allocations.Allocation",
            "id": 3019,
            "members": [
              {
                "constant": false,
                "id": 3016,
                "mutability": "mutable",
                "name": "shares",
                "nodeType": "VariableDeclaration",
                "overrides": null,
                "scope": 3019,
                "src": "455:14:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint240",
                  "typeString": "uint240"
                },
                "typeName": {
                  "id": 3015,
                  "name": "uint240",
                  "nodeType": "ElementaryTypeName",
                  "src": "455:7:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint240",
                    "typeString": "uint240"
                  }
                },
                "value": null,
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3018,
                "mutability": "mutable",
                "name": "p",
                "nodeType": "VariableDeclaration",
                "overrides": null,
                "scope": 3019,
                "src": "506:8:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_uint16",
                  "typeString": "uint16"
                },
                "typeName": {
                  "id": 3017,
                  "name": "uint16",
                  "nodeType": "ElementaryTypeName",
                  "src": "506:6:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint16",
                    "typeString": "uint16"
                  }
                },
                "value": null,
                "visibility": "internal"
              }
            ],
            "name": "Allocation",
            "nodeType": "StructDefinition",
            "scope": 3300,
            "src": "427:137:15",
            "visibility": "public"
          },
          {
            "canonicalName": "Allocations.Map",
            "id": 3027,
            "members": [
              {
                "constant": false,
                "id": 3022,
                "mutability": "mutable",
                "name": "elements",
                "nodeType": "VariableDeclaration",
                "overrides": null,
                "scope": 3027,
                "src": "641:21:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage_ptr",
                  "typeString": "struct Allocations.Allocation[]"
                },
                "typeName": {
                  "baseType": {
                    "contractScope": null,
                    "id": 3020,
                    "name": "Allocation",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3019,
                    "src": "641:10:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Allocation_$3019_storage_ptr",
                      "typeString": "struct Allocations.Allocation"
                    }
                  },
                  "id": 3021,
                  "length": null,
                  "nodeType": "ArrayTypeName",
                  "src": "641:12:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage_ptr",
                    "typeString": "struct Allocations.Allocation[]"
                  }
                },
                "value": null,
                "visibility": "internal"
              },
              {
                "constant": false,
                "id": 3026,
                "mutability": "mutable",
                "name": "idx",
                "nodeType": "VariableDeclaration",
                "overrides": null,
                "scope": 3027,
                "src": "704:29:15",
                "stateVariable": false,
                "storageLocation": "default",
                "typeDescriptions": {
                  "typeIdentifier": "t_mapping$_t_bytes32_$_t_uint256_$",
                  "typeString": "mapping(bytes32 => uint256)"
                },
                "typeName": {
                  "id": 3025,
                  "keyType": {
                    "id": 3023,
                    "name": "bytes32",
                    "nodeType": "ElementaryTypeName",
                    "src": "713:7:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "nodeType": "Mapping",
                  "src": "704:25:15",
                  "typeDescriptions": {
                    "typeIdentifier": "t_mapping$_t_bytes32_$_t_uint256_$",
                    "typeString": "mapping(bytes32 => uint256)"
                  },
                  "valueType": {
                    "id": 3024,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "724:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  }
                },
                "value": null,
                "visibility": "internal"
              }
            ],
            "name": "Map",
            "nodeType": "StructDefinition",
            "scope": 3300,
            "src": "620:154:15",
            "visibility": "public"
          },
          {
            "body": {
              "id": 3105,
              "nodeType": "Block",
              "src": "1121:334:15",
              "statements": [
                {
                  "assignments": [
                    3039
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3039,
                      "mutability": "mutable",
                      "name": "h",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 3105,
                      "src": "1131:9:15",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bytes32",
                        "typeString": "bytes32"
                      },
                      "typeName": {
                        "id": 3038,
                        "name": "bytes32",
                        "nodeType": "ElementaryTypeName",
                        "src": "1131:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bytes32",
                          "typeString": "bytes32"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3046,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 3043,
                            "name": "a",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3033,
                            "src": "1170:1:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                              "typeString": "uint256[] calldata"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                              "typeString": "uint256[] calldata"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 3041,
                            "name": "abi",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": -1,
                            "src": "1153:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_magic_abi",
                              "typeString": "abi"
                            }
                          },
                          "id": 3042,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "memberName": "encodePacked",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": null,
                          "src": "1153:16:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",
                            "typeString": "function () pure returns (bytes memory)"
                          }
                        },
                        "id": 3044,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1153:19:15",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bytes_memory_ptr",
                          "typeString": "bytes memory"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bytes_memory_ptr",
                          "typeString": "bytes memory"
                        }
                      ],
                      "id": 3040,
                      "name": "keccak256",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": -8,
                      "src": "1143:9:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",
                        "typeString": "function (bytes memory) pure returns (bytes32)"
                      }
                    },
                    "id": 3045,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1143:30:15",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_bytes32",
                      "typeString": "bytes32"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1131:42:15"
                },
                {
                  "assignments": [
                    3048
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3048,
                      "mutability": "mutable",
                      "name": "index",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 3105,
                      "src": "1183:10:15",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3047,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "1183:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3053,
                  "initialValue": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3049,
                        "name": "map",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3030,
                        "src": "1196:3:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                          "typeString": "struct Allocations.Map storage pointer"
                        }
                      },
                      "id": 3050,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "idx",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3026,
                      "src": "1196:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_mapping$_t_bytes32_$_t_uint256_$",
                        "typeString": "mapping(bytes32 => uint256)"
                      }
                    },
                    "id": 3052,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 3051,
                      "name": "h",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3039,
                      "src": "1204:1:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bytes32",
                        "typeString": "bytes32"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "1196:10:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "1183:23:15"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3056,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 3054,
                      "name": "index",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3048,
                      "src": "1220:5:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "==",
                    "rightExpression": {
                      "argumentTypes": null,
                      "hexValue": "30",
                      "id": 3055,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "1229:1:15",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "src": "1220:10:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": {
                    "id": 3103,
                    "nodeType": "Block",
                    "src": "1387:62:15",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3101,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "baseExpression": {
                                "argumentTypes": null,
                                "expression": {
                                  "argumentTypes": null,
                                  "id": 3089,
                                  "name": "map",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3030,
                                  "src": "1401:3:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                    "typeString": "struct Allocations.Map storage pointer"
                                  }
                                },
                                "id": 3094,
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "memberName": "elements",
                                "nodeType": "MemberAccess",
                                "referencedDeclaration": 3022,
                                "src": "1401:12:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                                  "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                                }
                              },
                              "id": 3095,
                              "indexExpression": {
                                "argumentTypes": null,
                                "commonType": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                },
                                "id": 3093,
                                "isConstant": false,
                                "isLValue": false,
                                "isPure": false,
                                "lValueRequested": false,
                                "leftExpression": {
                                  "argumentTypes": null,
                                  "id": 3091,
                                  "name": "index",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3048,
                                  "src": "1414:5:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "nodeType": "BinaryOperation",
                                "operator": "-",
                                "rightExpression": {
                                  "argumentTypes": null,
                                  "hexValue": "31",
                                  "id": 3092,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "kind": "number",
                                  "lValueRequested": false,
                                  "nodeType": "Literal",
                                  "src": "1422:1:15",
                                  "subdenomination": null,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_rational_1_by_1",
                                    "typeString": "int_const 1"
                                  },
                                  "value": "1"
                                },
                                "src": "1414:9:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "IndexAccess",
                              "src": "1401:23:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Allocation_$3019_storage",
                                "typeString": "struct Allocations.Allocation storage ref"
                              }
                            },
                            "id": 3096,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": true,
                            "memberName": "p",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3018,
                            "src": "1401:25:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint16",
                              "typeString": "uint16"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "id": 3099,
                                "name": "p",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3035,
                                "src": "1436:1:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "id": 3098,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "nodeType": "ElementaryTypeNameExpression",
                              "src": "1429:6:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_uint16_$",
                                "typeString": "type(uint16)"
                              },
                              "typeName": {
                                "id": 3097,
                                "name": "uint16",
                                "nodeType": "ElementaryTypeName",
                                "src": "1429:6:15",
                                "typeDescriptions": {
                                  "typeIdentifier": null,
                                  "typeString": null
                                }
                              }
                            },
                            "id": 3100,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "typeConversion",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "1429:9:15",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint16",
                              "typeString": "uint16"
                            }
                          },
                          "src": "1401:37:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint16",
                            "typeString": "uint16"
                          }
                        },
                        "id": 3102,
                        "nodeType": "ExpressionStatement",
                        "src": "1401:37:15"
                      }
                    ]
                  },
                  "id": 3104,
                  "nodeType": "IfStatement",
                  "src": "1216:233:15",
                  "trueBody": {
                    "id": 3088,
                    "nodeType": "Block",
                    "src": "1232:150:15",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "arguments": [
                                {
                                  "argumentTypes": null,
                                  "arguments": [
                                    {
                                      "argumentTypes": null,
                                      "arguments": [
                                        {
                                          "argumentTypes": null,
                                          "id": 3067,
                                          "name": "a",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 3033,
                                          "src": "1307:1:15",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                                            "typeString": "uint256[] calldata"
                                          }
                                        },
                                        {
                                          "argumentTypes": null,
                                          "hexValue": "38",
                                          "id": 3068,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "kind": "number",
                                          "lValueRequested": false,
                                          "nodeType": "Literal",
                                          "src": "1309:1:15",
                                          "subdenomination": null,
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_rational_8_by_1",
                                            "typeString": "int_const 8"
                                          },
                                          "value": "8"
                                        }
                                      ],
                                      "expression": {
                                        "argumentTypes": [
                                          {
                                            "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                                            "typeString": "uint256[] calldata"
                                          },
                                          {
                                            "typeIdentifier": "t_rational_8_by_1",
                                            "typeString": "int_const 8"
                                          }
                                        ],
                                        "expression": {
                                          "argumentTypes": null,
                                          "id": 3065,
                                          "name": "Zipper",
                                          "nodeType": "Identifier",
                                          "overloadedDeclarations": [],
                                          "referencedDeclaration": 9742,
                                          "src": "1283:6:15",
                                          "typeDescriptions": {
                                            "typeIdentifier": "t_type$_t_contract$_Zipper_$9742_$",
                                            "typeString": "type(library Zipper)"
                                          }
                                        },
                                        "id": 3066,
                                        "isConstant": false,
                                        "isLValue": false,
                                        "isPure": false,
                                        "lValueRequested": false,
                                        "memberName": "zipArrayWithSize",
                                        "nodeType": "MemberAccess",
                                        "referencedDeclaration": 9142,
                                        "src": "1283:23:15",
                                        "typeDescriptions": {
                                          "typeIdentifier": "t_function_delegatecall_pure$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$_t_uint256_$",
                                          "typeString": "function (uint256[] memory,uint256) pure returns (uint256)"
                                        }
                                      },
                                      "id": 3069,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "kind": "functionCall",
                                      "lValueRequested": false,
                                      "names": [],
                                      "nodeType": "FunctionCall",
                                      "src": "1283:28:15",
                                      "tryCall": false,
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      }
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      }
                                    ],
                                    "id": 3064,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "nodeType": "ElementaryTypeNameExpression",
                                    "src": "1275:7:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_type$_t_uint240_$",
                                      "typeString": "type(uint240)"
                                    },
                                    "typeName": {
                                      "id": 3063,
                                      "name": "uint240",
                                      "nodeType": "ElementaryTypeName",
                                      "src": "1275:7:15",
                                      "typeDescriptions": {
                                        "typeIdentifier": null,
                                        "typeString": null
                                      }
                                    }
                                  },
                                  "id": 3070,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "typeConversion",
                                  "lValueRequested": false,
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "1275:37:15",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint240",
                                    "typeString": "uint240"
                                  }
                                },
                                {
                                  "argumentTypes": null,
                                  "arguments": [
                                    {
                                      "argumentTypes": null,
                                      "id": 3073,
                                      "name": "p",
                                      "nodeType": "Identifier",
                                      "overloadedDeclarations": [],
                                      "referencedDeclaration": 3035,
                                      "src": "1321:1:15",
                                      "typeDescriptions": {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      }
                                    }
                                  ],
                                  "expression": {
                                    "argumentTypes": [
                                      {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      }
                                    ],
                                    "id": 3072,
                                    "isConstant": false,
                                    "isLValue": false,
                                    "isPure": true,
                                    "lValueRequested": false,
                                    "nodeType": "ElementaryTypeNameExpression",
                                    "src": "1314:6:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_type$_t_uint16_$",
                                      "typeString": "type(uint16)"
                                    },
                                    "typeName": {
                                      "id": 3071,
                                      "name": "uint16",
                                      "nodeType": "ElementaryTypeName",
                                      "src": "1314:6:15",
                                      "typeDescriptions": {
                                        "typeIdentifier": null,
                                        "typeString": null
                                      }
                                    }
                                  },
                                  "id": 3074,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "kind": "typeConversion",
                                  "lValueRequested": false,
                                  "names": [],
                                  "nodeType": "FunctionCall",
                                  "src": "1314:9:15",
                                  "tryCall": false,
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint16",
                                    "typeString": "uint16"
                                  }
                                }
                              ],
                              "expression": {
                                "argumentTypes": [
                                  {
                                    "typeIdentifier": "t_uint240",
                                    "typeString": "uint240"
                                  },
                                  {
                                    "typeIdentifier": "t_uint16",
                                    "typeString": "uint16"
                                  }
                                ],
                                "id": 3062,
                                "name": "Allocation",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3019,
                                "src": "1264:10:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_type$_t_struct$_Allocation_$3019_storage_ptr_$",
                                  "typeString": "type(struct Allocations.Allocation storage pointer)"
                                }
                              },
                              "id": 3075,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "kind": "structConstructorCall",
                              "lValueRequested": false,
                              "names": [],
                              "nodeType": "FunctionCall",
                              "src": "1264:60:15",
                              "tryCall": false,
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Allocation_$3019_memory_ptr",
                                "typeString": "struct Allocations.Allocation memory"
                              }
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_struct$_Allocation_$3019_memory_ptr",
                                "typeString": "struct Allocations.Allocation memory"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3057,
                                "name": "map",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3030,
                                "src": "1246:3:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                  "typeString": "struct Allocations.Map storage pointer"
                                }
                              },
                              "id": 3060,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "elements",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3022,
                              "src": "1246:12:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                                "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                              }
                            },
                            "id": 3061,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "push",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "1246:17:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_arraypush_nonpayable$_t_struct$_Allocation_$3019_storage_$returns$__$",
                              "typeString": "function (struct Allocations.Allocation storage ref)"
                            }
                          },
                          "id": 3076,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "1246:79:15",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_tuple$__$",
                            "typeString": "tuple()"
                          }
                        },
                        "id": 3077,
                        "nodeType": "ExpressionStatement",
                        "src": "1246:79:15"
                      },
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3086,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3078,
                                "name": "map",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3030,
                                "src": "1339:3:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                  "typeString": "struct Allocations.Map storage pointer"
                                }
                              },
                              "id": 3081,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "idx",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3026,
                              "src": "1339:7:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_mapping$_t_bytes32_$_t_uint256_$",
                                "typeString": "mapping(bytes32 => uint256)"
                              }
                            },
                            "id": 3082,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 3080,
                              "name": "h",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3039,
                              "src": "1347:1:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_bytes32",
                                "typeString": "bytes32"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": true,
                            "nodeType": "IndexAccess",
                            "src": "1339:10:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3083,
                                "name": "map",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3030,
                                "src": "1352:3:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                  "typeString": "struct Allocations.Map storage pointer"
                                }
                              },
                              "id": 3084,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "elements",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3022,
                              "src": "1352:12:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                                "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                              }
                            },
                            "id": 3085,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "1352:19:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1339:32:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3087,
                        "nodeType": "ExpressionStatement",
                        "src": "1339:32:15"
                      }
                    ]
                  }
                }
              ]
            },
            "documentation": {
              "id": 3028,
              "nodeType": "StructuredDocumentation",
              "src": "795:245:15",
              "text": "@notice creates a new allocation or updates the probability of an existing one\n @param map dictionary containing allocations\n @param a winners per cluster to insert/modify\n @param p probability of the specific allocation"
            },
            "functionSelector": "90906e42",
            "id": 3106,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "setAllocation",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 3036,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3030,
                  "mutability": "mutable",
                  "name": "map",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3106,
                  "src": "1068:15:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                    "typeString": "struct Allocations.Map"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3029,
                    "name": "Map",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3027,
                    "src": "1068:3:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                      "typeString": "struct Allocations.Map"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3033,
                  "mutability": "mutable",
                  "name": "a",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3106,
                  "src": "1085:17:15",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3031,
                      "name": "uint",
                      "nodeType": "ElementaryTypeName",
                      "src": "1085:4:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3032,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1085:6:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3035,
                  "mutability": "mutable",
                  "name": "p",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3106,
                  "src": "1104:6:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3034,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "1104:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1067:44:15"
            },
            "returnParameters": {
              "id": 3037,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1121:0:15"
            },
            "scope": 3300,
            "src": "1045:410:15",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 3146,
              "nodeType": "Block",
              "src": "1793:170:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3126,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3120,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 3118,
                            "name": "index",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3111,
                            "src": "1811:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": ">=",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 3119,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1820:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "1811:10:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3125,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 3121,
                            "name": "index",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3111,
                            "src": "1825:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3122,
                                "name": "map",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3109,
                                "src": "1833:3:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                  "typeString": "struct Allocations.Map storage pointer"
                                }
                              },
                              "id": 3123,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "elements",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3022,
                              "src": "1833:12:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                                "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                              }
                            },
                            "id": 3124,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "1833:19:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "1825:27:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "1811:41:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "4d6170206f7574206f6620626f756e6473",
                        "id": 3127,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "1854:19:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_7d512e6bd5a093cafcf85ab0c30e72ee0506c3897bdeb4aeb917f86bdabbf8c5",
                          "typeString": "literal_string \"Map out of bounds\""
                        },
                        "value": "Map out of bounds"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_7d512e6bd5a093cafcf85ab0c30e72ee0506c3897bdeb4aeb917f86bdabbf8c5",
                          "typeString": "literal_string \"Map out of bounds\""
                        }
                      ],
                      "id": 3117,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1803:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3128,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1803:71:15",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3129,
                  "nodeType": "ExpressionStatement",
                  "src": "1803:71:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 3144,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "baseExpression": {
                          "argumentTypes": null,
                          "expression": {
                            "argumentTypes": null,
                            "id": 3130,
                            "name": "map",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3109,
                            "src": "1885:3:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                              "typeString": "struct Allocations.Map storage pointer"
                            }
                          },
                          "id": 3133,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "elements",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3022,
                          "src": "1885:12:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                            "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                          }
                        },
                        "id": 3134,
                        "indexExpression": {
                          "argumentTypes": null,
                          "id": 3132,
                          "name": "index",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3111,
                          "src": "1898:5:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "IndexAccess",
                        "src": "1885:19:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Allocation_$3019_storage",
                          "typeString": "struct Allocations.Allocation storage ref"
                        }
                      },
                      "id": 3135,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "memberName": "shares",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3016,
                      "src": "1885:26:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint240",
                        "typeString": "uint240"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "arguments": [
                            {
                              "argumentTypes": null,
                              "id": 3140,
                              "name": "shares",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3114,
                              "src": "1946:6:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                                "typeString": "uint256[] calldata"
                              }
                            },
                            {
                              "argumentTypes": null,
                              "hexValue": "38",
                              "id": 3141,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "kind": "number",
                              "lValueRequested": false,
                              "nodeType": "Literal",
                              "src": "1953:1:15",
                              "subdenomination": null,
                              "typeDescriptions": {
                                "typeIdentifier": "t_rational_8_by_1",
                                "typeString": "int_const 8"
                              },
                              "value": "8"
                            }
                          ],
                          "expression": {
                            "argumentTypes": [
                              {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                                "typeString": "uint256[] calldata"
                              },
                              {
                                "typeIdentifier": "t_rational_8_by_1",
                                "typeString": "int_const 8"
                              }
                            ],
                            "expression": {
                              "argumentTypes": null,
                              "id": 3138,
                              "name": "Zipper",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 9742,
                              "src": "1922:6:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_type$_t_contract$_Zipper_$9742_$",
                                "typeString": "type(library Zipper)"
                              }
                            },
                            "id": 3139,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "zipArrayWithSize",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 9142,
                            "src": "1922:23:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_function_delegatecall_pure$_t_array$_t_uint256_$dyn_memory_ptr_$_t_uint256_$returns$_t_uint256_$",
                              "typeString": "function (uint256[] memory,uint256) pure returns (uint256)"
                            }
                          },
                          "id": 3142,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "kind": "functionCall",
                          "lValueRequested": false,
                          "names": [],
                          "nodeType": "FunctionCall",
                          "src": "1922:33:15",
                          "tryCall": false,
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        ],
                        "id": 3137,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "lValueRequested": false,
                        "nodeType": "ElementaryTypeNameExpression",
                        "src": "1914:7:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_uint240_$",
                          "typeString": "type(uint240)"
                        },
                        "typeName": {
                          "id": 3136,
                          "name": "uint240",
                          "nodeType": "ElementaryTypeName",
                          "src": "1914:7:15",
                          "typeDescriptions": {
                            "typeIdentifier": null,
                            "typeString": null
                          }
                        }
                      },
                      "id": 3143,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1914:42:15",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint240",
                        "typeString": "uint240"
                      }
                    },
                    "src": "1885:71:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint240",
                      "typeString": "uint240"
                    }
                  },
                  "id": 3145,
                  "nodeType": "ExpressionStatement",
                  "src": "1885:71:15"
                }
              ]
            },
            "documentation": {
              "id": 3107,
              "nodeType": "StructuredDocumentation",
              "src": "1461:243:15",
              "text": "@notice updates the winners per cluster of an allocation specified by its index\n @param map dictionary containing allocations\n @param index index of the allocation to modify\n @param shares winners per cluster to update"
            },
            "functionSelector": "ba776fdb",
            "id": 3147,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "updateShares",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 3115,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3109,
                  "mutability": "mutable",
                  "name": "map",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3147,
                  "src": "1731:15:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                    "typeString": "struct Allocations.Map"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3108,
                    "name": "Map",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3027,
                    "src": "1731:3:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                      "typeString": "struct Allocations.Map"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3111,
                  "mutability": "mutable",
                  "name": "index",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3147,
                  "src": "1748:10:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3110,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "1748:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3114,
                  "mutability": "mutable",
                  "name": "shares",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3147,
                  "src": "1760:22:15",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3112,
                      "name": "uint",
                      "nodeType": "ElementaryTypeName",
                      "src": "1760:4:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3113,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "1760:6:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1730:53:15"
            },
            "returnParameters": {
              "id": 3116,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1793:0:15"
            },
            "scope": 3300,
            "src": "1709:254:15",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 3159,
              "nodeType": "Block",
              "src": "2147:43:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3155,
                        "name": "map",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3150,
                        "src": "2164:3:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                          "typeString": "struct Allocations.Map storage pointer"
                        }
                      },
                      "id": 3156,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "elements",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3022,
                      "src": "2164:12:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                        "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                      }
                    },
                    "id": 3157,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "length",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": null,
                    "src": "2164:19:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "functionReturnParameters": 3154,
                  "id": 3158,
                  "nodeType": "Return",
                  "src": "2157:26:15"
                }
              ]
            },
            "documentation": {
              "id": 3148,
              "nodeType": "StructuredDocumentation",
              "src": "1984:97:15",
              "text": "@param map dictionary containing allocations\n @return the number of allocations stored"
            },
            "functionSelector": "4398d1b5",
            "id": 3160,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "length",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 3151,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3150,
                  "mutability": "mutable",
                  "name": "map",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3160,
                  "src": "2102:15:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                    "typeString": "struct Allocations.Map"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3149,
                    "name": "Map",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3027,
                    "src": "2102:3:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                      "typeString": "struct Allocations.Map"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2101:17:15"
            },
            "returnParameters": {
              "id": 3154,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3153,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3160,
                  "src": "2142:4:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3152,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "2142:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2141:6:15"
            },
            "scope": 3300,
            "src": "2086:104:15",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 3240,
              "nodeType": "Block",
              "src": "2429:310:15",
              "statements": [
                {
                  "assignments": [
                    3174
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3174,
                      "mutability": "mutable",
                      "name": "n",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 3240,
                      "src": "2439:6:15",
                      "stateVariable": false,
                      "storageLocation": "default",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      },
                      "typeName": {
                        "id": 3173,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "2439:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3178,
                  "initialValue": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3175,
                        "name": "map",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3163,
                        "src": "2448:3:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                          "typeString": "struct Allocations.Map storage pointer"
                        }
                      },
                      "id": 3176,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "elements",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3022,
                      "src": "2448:12:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                        "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                      }
                    },
                    "id": 3177,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "length",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": null,
                    "src": "2448:19:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2439:28:15"
                },
                {
                  "assignments": [
                    3184
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3184,
                      "mutability": "mutable",
                      "name": "allocations",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 3240,
                      "src": "2477:27:15",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr",
                        "typeString": "uint256[][]"
                      },
                      "typeName": {
                        "baseType": {
                          "baseType": {
                            "id": 3181,
                            "name": "uint",
                            "nodeType": "ElementaryTypeName",
                            "src": "2477:4:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "id": 3182,
                          "length": null,
                          "nodeType": "ArrayTypeName",
                          "src": "2477:6:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                            "typeString": "uint256[]"
                          }
                        },
                        "id": 3183,
                        "length": null,
                        "nodeType": "ArrayTypeName",
                        "src": "2477:8:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr",
                          "typeString": "uint256[][]"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3191,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3189,
                        "name": "n",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3174,
                        "src": "2520:1:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 3188,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "nodeType": "NewExpression",
                      "src": "2507:12:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr_$",
                        "typeString": "function (uint256) pure returns (uint256[] memory[] memory)"
                      },
                      "typeName": {
                        "baseType": {
                          "baseType": {
                            "id": 3185,
                            "name": "uint",
                            "nodeType": "ElementaryTypeName",
                            "src": "2511:4:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "id": 3186,
                          "length": null,
                          "nodeType": "ArrayTypeName",
                          "src": "2511:6:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                            "typeString": "uint256[]"
                          }
                        },
                        "id": 3187,
                        "length": null,
                        "nodeType": "ArrayTypeName",
                        "src": "2511:8:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr",
                          "typeString": "uint256[][]"
                        }
                      }
                    },
                    "id": 3190,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2507:15:15",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr",
                      "typeString": "uint256[] memory[] memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2477:45:15"
                },
                {
                  "assignments": [
                    3196
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 3196,
                      "mutability": "mutable",
                      "name": "p",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 3240,
                      "src": "2532:15:15",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                        "typeString": "uint256[]"
                      },
                      "typeName": {
                        "baseType": {
                          "id": 3194,
                          "name": "uint",
                          "nodeType": "ElementaryTypeName",
                          "src": "2532:4:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3195,
                        "length": null,
                        "nodeType": "ArrayTypeName",
                        "src": "2532:6:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                          "typeString": "uint256[]"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 3202,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 3200,
                        "name": "n",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3174,
                        "src": "2561:1:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "id": 3199,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "nodeType": "NewExpression",
                      "src": "2550:10:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_objectcreation_pure$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",
                        "typeString": "function (uint256) pure returns (uint256[] memory)"
                      },
                      "typeName": {
                        "baseType": {
                          "id": 3197,
                          "name": "uint",
                          "nodeType": "ElementaryTypeName",
                          "src": "2554:4:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3198,
                        "length": null,
                        "nodeType": "ArrayTypeName",
                        "src": "2554:6:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                          "typeString": "uint256[]"
                        }
                      }
                    },
                    "id": 3201,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2550:13:15",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                      "typeString": "uint256[] memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2532:31:15"
                },
                {
                  "body": {
                    "id": 3234,
                    "nodeType": "Block",
                    "src": "2595:106:15",
                    "statements": [
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3222,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 3213,
                              "name": "allocations",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3184,
                              "src": "2609:11:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr",
                                "typeString": "uint256[] memory[] memory"
                              }
                            },
                            "id": 3215,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 3214,
                              "name": "i",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3204,
                              "src": "2621:1:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": true,
                            "nodeType": "IndexAccess",
                            "src": "2609:14:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "arguments": [
                              {
                                "argumentTypes": null,
                                "baseExpression": {
                                  "argumentTypes": null,
                                  "expression": {
                                    "argumentTypes": null,
                                    "id": 3217,
                                    "name": "map",
                                    "nodeType": "Identifier",
                                    "overloadedDeclarations": [],
                                    "referencedDeclaration": 3163,
                                    "src": "2636:3:15",
                                    "typeDescriptions": {
                                      "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                      "typeString": "struct Allocations.Map storage pointer"
                                    }
                                  },
                                  "id": 3218,
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "memberName": "elements",
                                  "nodeType": "MemberAccess",
                                  "referencedDeclaration": 3022,
                                  "src": "2636:12:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                                    "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                                  }
                                },
                                "id": 3220,
                                "indexExpression": {
                                  "argumentTypes": null,
                                  "id": 3219,
                                  "name": "i",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3204,
                                  "src": "2649:1:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  }
                                },
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "nodeType": "IndexAccess",
                                "src": "2636:15:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Allocation_$3019_storage",
                                  "typeString": "struct Allocations.Allocation storage ref"
                                }
                              }
                            ],
                            "expression": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_struct$_Allocation_$3019_storage",
                                  "typeString": "struct Allocations.Allocation storage ref"
                                }
                              ],
                              "id": 3216,
                              "name": "getShares",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3270,
                              "src": "2626:9:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_function_internal_pure$_t_struct$_Allocation_$3019_memory_ptr_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",
                                "typeString": "function (struct Allocations.Allocation memory) pure returns (uint256[] memory)"
                              }
                            },
                            "id": 3221,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "kind": "functionCall",
                            "lValueRequested": false,
                            "names": [],
                            "nodeType": "FunctionCall",
                            "src": "2626:26:15",
                            "tryCall": false,
                            "typeDescriptions": {
                              "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                              "typeString": "uint256[] memory"
                            }
                          },
                          "src": "2609:43:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                            "typeString": "uint256[] memory"
                          }
                        },
                        "id": 3223,
                        "nodeType": "ExpressionStatement",
                        "src": "2609:43:15"
                      },
                      {
                        "expression": {
                          "argumentTypes": null,
                          "id": 3232,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftHandSide": {
                            "argumentTypes": null,
                            "baseExpression": {
                              "argumentTypes": null,
                              "id": 3224,
                              "name": "p",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3196,
                              "src": "2666:1:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                                "typeString": "uint256[] memory"
                              }
                            },
                            "id": 3226,
                            "indexExpression": {
                              "argumentTypes": null,
                              "id": 3225,
                              "name": "i",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 3204,
                              "src": "2668:1:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              }
                            },
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": true,
                            "nodeType": "IndexAccess",
                            "src": "2666:4:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "Assignment",
                          "operator": "=",
                          "rightHandSide": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "baseExpression": {
                                "argumentTypes": null,
                                "expression": {
                                  "argumentTypes": null,
                                  "id": 3227,
                                  "name": "map",
                                  "nodeType": "Identifier",
                                  "overloadedDeclarations": [],
                                  "referencedDeclaration": 3163,
                                  "src": "2673:3:15",
                                  "typeDescriptions": {
                                    "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                    "typeString": "struct Allocations.Map storage pointer"
                                  }
                                },
                                "id": 3228,
                                "isConstant": false,
                                "isLValue": true,
                                "isPure": false,
                                "lValueRequested": false,
                                "memberName": "elements",
                                "nodeType": "MemberAccess",
                                "referencedDeclaration": 3022,
                                "src": "2673:12:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                                  "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                                }
                              },
                              "id": 3230,
                              "indexExpression": {
                                "argumentTypes": null,
                                "id": 3229,
                                "name": "i",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3204,
                                "src": "2686:1:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              },
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "nodeType": "IndexAccess",
                              "src": "2673:15:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Allocation_$3019_storage",
                                "typeString": "struct Allocations.Allocation storage ref"
                              }
                            },
                            "id": 3231,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "p",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3018,
                            "src": "2673:17:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint16",
                              "typeString": "uint16"
                            }
                          },
                          "src": "2666:24:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "id": 3233,
                        "nodeType": "ExpressionStatement",
                        "src": "2666:24:15"
                      }
                    ]
                  },
                  "condition": {
                    "argumentTypes": null,
                    "commonType": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    },
                    "id": 3209,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftExpression": {
                      "argumentTypes": null,
                      "id": 3207,
                      "name": "i",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3204,
                      "src": "2587:1:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "BinaryOperation",
                    "operator": "<",
                    "rightExpression": {
                      "argumentTypes": null,
                      "id": 3208,
                      "name": "n",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3174,
                      "src": "2589:1:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "2587:3:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 3235,
                  "initializationExpression": {
                    "assignments": [
                      3204
                    ],
                    "declarations": [
                      {
                        "constant": false,
                        "id": 3204,
                        "mutability": "mutable",
                        "name": "i",
                        "nodeType": "VariableDeclaration",
                        "overrides": null,
                        "scope": 3235,
                        "src": "2578:6:15",
                        "stateVariable": false,
                        "storageLocation": "default",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        },
                        "typeName": {
                          "id": 3203,
                          "name": "uint",
                          "nodeType": "ElementaryTypeName",
                          "src": "2578:4:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          }
                        },
                        "value": null,
                        "visibility": "internal"
                      }
                    ],
                    "id": 3206,
                    "initialValue": {
                      "argumentTypes": null,
                      "hexValue": "30",
                      "id": 3205,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "number",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2585:1:15",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_rational_0_by_1",
                        "typeString": "int_const 0"
                      },
                      "value": "0"
                    },
                    "nodeType": "VariableDeclarationStatement",
                    "src": "2578:8:15"
                  },
                  "loopExpression": {
                    "expression": {
                      "argumentTypes": null,
                      "id": 3211,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "nodeType": "UnaryOperation",
                      "operator": "++",
                      "prefix": false,
                      "src": "2591:3:15",
                      "subExpression": {
                        "argumentTypes": null,
                        "id": 3210,
                        "name": "i",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3204,
                        "src": "2591:1:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3212,
                    "nodeType": "ExpressionStatement",
                    "src": "2591:3:15"
                  },
                  "nodeType": "ForStatement",
                  "src": "2573:128:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "components": [
                      {
                        "argumentTypes": null,
                        "id": 3236,
                        "name": "allocations",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3184,
                        "src": "2718:11:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr",
                          "typeString": "uint256[] memory[] memory"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "id": 3237,
                        "name": "p",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3196,
                        "src": "2730:1:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                          "typeString": "uint256[] memory"
                        }
                      }
                    ],
                    "id": 3238,
                    "isConstant": false,
                    "isInlineArray": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "TupleExpression",
                    "src": "2717:15:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$_t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr_$_t_array$_t_uint256_$dyn_memory_ptr_$",
                      "typeString": "tuple(uint256[] memory[] memory,uint256[] memory)"
                    }
                  },
                  "functionReturnParameters": 3172,
                  "id": 3239,
                  "nodeType": "Return",
                  "src": "2710:22:15"
                }
              ]
            },
            "documentation": {
              "id": 3161,
              "nodeType": "StructuredDocumentation",
              "src": "2196:132:15",
              "text": "@param map dictionary containing allocations\n @return the list of allocations and the list of corresponding probabilities"
            },
            "functionSelector": "a239e256",
            "id": 3241,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getAllocations",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 3164,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3163,
                  "mutability": "mutable",
                  "name": "map",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3241,
                  "src": "2357:15:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                    "typeString": "struct Allocations.Map"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3162,
                    "name": "Map",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3027,
                    "src": "2357:3:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                      "typeString": "struct Allocations.Map"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2356:17:15"
            },
            "returnParameters": {
              "id": 3172,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3168,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3241,
                  "src": "2397:15:15",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_memory_ptr_$dyn_memory_ptr",
                    "typeString": "uint256[][]"
                  },
                  "typeName": {
                    "baseType": {
                      "baseType": {
                        "id": 3165,
                        "name": "uint",
                        "nodeType": "ElementaryTypeName",
                        "src": "2397:4:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      },
                      "id": 3166,
                      "length": null,
                      "nodeType": "ArrayTypeName",
                      "src": "2397:6:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                        "typeString": "uint256[]"
                      }
                    },
                    "id": 3167,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "2397:8:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_array$_t_uint256_$dyn_storage_$dyn_storage_ptr",
                      "typeString": "uint256[][]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3171,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3241,
                  "src": "2414:13:15",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3169,
                      "name": "uint",
                      "nodeType": "ElementaryTypeName",
                      "src": "2414:4:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3170,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "2414:6:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2396:32:15"
            },
            "scope": 3300,
            "src": "2333:406:15",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 3252,
              "nodeType": "Block",
              "src": "2938:27:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "expression": {
                      "argumentTypes": null,
                      "id": 3249,
                      "name": "a",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3244,
                      "src": "2955:1:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Allocation_$3019_calldata_ptr",
                        "typeString": "struct Allocations.Allocation calldata"
                      }
                    },
                    "id": 3250,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "memberName": "p",
                    "nodeType": "MemberAccess",
                    "referencedDeclaration": 3018,
                    "src": "2955:3:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint16",
                      "typeString": "uint16"
                    }
                  },
                  "functionReturnParameters": 3248,
                  "id": 3251,
                  "nodeType": "Return",
                  "src": "2948:10:15"
                }
              ]
            },
            "documentation": {
              "id": 3242,
              "nodeType": "StructuredDocumentation",
              "src": "2745:122:15",
              "text": "@param a allocation for which the probability is required\n @return the probability associated to the allocation"
            },
            "functionSelector": "74eef8d5",
            "id": 3253,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getP",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 3245,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3244,
                  "mutability": "mutable",
                  "name": "a",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3253,
                  "src": "2886:21:15",
                  "stateVariable": false,
                  "storageLocation": "calldata",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Allocation_$3019_calldata_ptr",
                    "typeString": "struct Allocations.Allocation"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3243,
                    "name": "Allocation",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3019,
                    "src": "2886:10:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Allocation_$3019_storage_ptr",
                      "typeString": "struct Allocations.Allocation"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2885:23:15"
            },
            "returnParameters": {
              "id": 3248,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3247,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3253,
                  "src": "2932:4:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3246,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "2932:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "2931:6:15"
            },
            "scope": 3300,
            "src": "2872:93:15",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "external"
          },
          {
            "body": {
              "id": 3269,
              "nodeType": "Block",
              "src": "3191:61:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "expression": {
                          "argumentTypes": null,
                          "id": 3264,
                          "name": "a",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 3256,
                          "src": "3234:1:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Allocation_$3019_memory_ptr",
                            "typeString": "struct Allocations.Allocation memory"
                          }
                        },
                        "id": 3265,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "shares",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3016,
                        "src": "3234:8:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint240",
                          "typeString": "uint240"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "38",
                        "id": 3266,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "number",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "3243:1:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_rational_8_by_1",
                          "typeString": "int_const 8"
                        },
                        "value": "8"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint240",
                          "typeString": "uint240"
                        },
                        {
                          "typeIdentifier": "t_rational_8_by_1",
                          "typeString": "int_const 8"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 3262,
                        "name": "Zipper",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 9742,
                        "src": "3208:6:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_Zipper_$9742_$",
                          "typeString": "type(library Zipper)"
                        }
                      },
                      "id": 3263,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "unzipArrayWithSize",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 9178,
                      "src": "3208:25:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_delegatecall_pure$_t_uint256_$_t_uint256_$returns$_t_array$_t_uint256_$dyn_memory_ptr_$",
                        "typeString": "function (uint256,uint256) pure returns (uint256[] memory)"
                      }
                    },
                    "id": 3267,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3208:37:15",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                      "typeString": "uint256[] memory"
                    }
                  },
                  "functionReturnParameters": 3261,
                  "id": 3268,
                  "nodeType": "Return",
                  "src": "3201:44:15"
                }
              ]
            },
            "documentation": {
              "id": 3254,
              "nodeType": "StructuredDocumentation",
              "src": "2971:139:15",
              "text": "@param a allocation for which the winners per cluster are required\n @return the winners per cluster associated to the allocation"
            },
            "functionSelector": "bf506b16",
            "id": 3270,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getShares",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 3257,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3256,
                  "mutability": "mutable",
                  "name": "a",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3270,
                  "src": "3134:19:15",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Allocation_$3019_memory_ptr",
                    "typeString": "struct Allocations.Allocation"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3255,
                    "name": "Allocation",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3019,
                    "src": "3134:10:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Allocation_$3019_storage_ptr",
                      "typeString": "struct Allocations.Allocation"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3133:21:15"
            },
            "returnParameters": {
              "id": 3261,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3260,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3270,
                  "src": "3176:13:15",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_array$_t_uint256_$dyn_memory_ptr",
                    "typeString": "uint256[]"
                  },
                  "typeName": {
                    "baseType": {
                      "id": 3258,
                      "name": "uint",
                      "nodeType": "ElementaryTypeName",
                      "src": "3176:4:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "id": 3259,
                    "length": null,
                    "nodeType": "ArrayTypeName",
                    "src": "3176:6:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_array$_t_uint256_$dyn_storage_ptr",
                      "typeString": "uint256[]"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3175:15:15"
            },
            "scope": 3300,
            "src": "3115:137:15",
            "stateMutability": "pure",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 3298,
              "nodeType": "Block",
              "src": "3536:125:15",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "commonType": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        "id": 3289,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "leftExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3283,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 3281,
                            "name": "index",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3275,
                            "src": "3554:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": ">=",
                          "rightExpression": {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 3282,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "3563:1:15",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          },
                          "src": "3554:10:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "nodeType": "BinaryOperation",
                        "operator": "&&",
                        "rightExpression": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "id": 3288,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "leftExpression": {
                            "argumentTypes": null,
                            "id": 3284,
                            "name": "index",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 3275,
                            "src": "3568:5:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "nodeType": "BinaryOperation",
                          "operator": "<",
                          "rightExpression": {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "expression": {
                                "argumentTypes": null,
                                "id": 3285,
                                "name": "map",
                                "nodeType": "Identifier",
                                "overloadedDeclarations": [],
                                "referencedDeclaration": 3273,
                                "src": "3576:3:15",
                                "typeDescriptions": {
                                  "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                                  "typeString": "struct Allocations.Map storage pointer"
                                }
                              },
                              "id": 3286,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "memberName": "elements",
                              "nodeType": "MemberAccess",
                              "referencedDeclaration": 3022,
                              "src": "3576:12:15",
                              "typeDescriptions": {
                                "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                                "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                              }
                            },
                            "id": 3287,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "length",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": null,
                            "src": "3576:19:15",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          },
                          "src": "3568:27:15",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "src": "3554:41:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "4d6170206f7574206f6620626f756e6473",
                        "id": 3290,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "3597:19:15",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_7d512e6bd5a093cafcf85ab0c30e72ee0506c3897bdeb4aeb917f86bdabbf8c5",
                          "typeString": "literal_string \"Map out of bounds\""
                        },
                        "value": "Map out of bounds"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_7d512e6bd5a093cafcf85ab0c30e72ee0506c3897bdeb4aeb917f86bdabbf8c5",
                          "typeString": "literal_string \"Map out of bounds\""
                        }
                      ],
                      "id": 3280,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "3546:7:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 3291,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "3546:71:15",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 3292,
                  "nodeType": "ExpressionStatement",
                  "src": "3546:71:15"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "baseExpression": {
                      "argumentTypes": null,
                      "expression": {
                        "argumentTypes": null,
                        "id": 3293,
                        "name": "map",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3273,
                        "src": "3635:3:15",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                          "typeString": "struct Allocations.Map storage pointer"
                        }
                      },
                      "id": 3294,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "elements",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3022,
                      "src": "3635:12:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_array$_t_struct$_Allocation_$3019_storage_$dyn_storage",
                        "typeString": "struct Allocations.Allocation storage ref[] storage ref"
                      }
                    },
                    "id": 3296,
                    "indexExpression": {
                      "argumentTypes": null,
                      "id": 3295,
                      "name": "index",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 3275,
                      "src": "3648:5:15",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "isConstant": false,
                    "isLValue": true,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "IndexAccess",
                    "src": "3635:19:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Allocation_$3019_storage",
                      "typeString": "struct Allocations.Allocation storage ref"
                    }
                  },
                  "functionReturnParameters": 3279,
                  "id": 3297,
                  "nodeType": "Return",
                  "src": "3628:26:15"
                }
              ]
            },
            "documentation": {
              "id": 3271,
              "nodeType": "StructuredDocumentation",
              "src": "3258:177:15",
              "text": "@param map dictionary containing allocations\n @param index allocation for which the probability is required\n @return the allocation stored at a specified index"
            },
            "functionSelector": "cbbbd485",
            "id": 3299,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "getAllocationAt",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 3276,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3273,
                  "mutability": "mutable",
                  "name": "map",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3299,
                  "src": "3465:15:15",
                  "stateVariable": false,
                  "storageLocation": "storage",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                    "typeString": "struct Allocations.Map"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3272,
                    "name": "Map",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3027,
                    "src": "3465:3:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Map_$3027_storage_ptr",
                      "typeString": "struct Allocations.Map"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 3275,
                  "mutability": "mutable",
                  "name": "index",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3299,
                  "src": "3482:10:15",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "typeName": {
                    "id": 3274,
                    "name": "uint",
                    "nodeType": "ElementaryTypeName",
                    "src": "3482:4:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3464:29:15"
            },
            "returnParameters": {
              "id": 3279,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 3278,
                  "mutability": "mutable",
                  "name": "",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 3299,
                  "src": "3517:17:15",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Allocation_$3019_memory_ptr",
                    "typeString": "struct Allocations.Allocation"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 3277,
                    "name": "Allocation",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3019,
                    "src": "3517:10:15",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Allocation_$3019_storage_ptr",
                      "typeString": "struct Allocations.Allocation"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "3516:19:15"
            },
            "scope": 3300,
            "src": "3440:221:15",
            "stateMutability": "view",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 3301,
        "src": "316:3347:15"
      }
    ],
    "src": "33:3631:15"
  },
  "legacyAST": {
    "attributes": {
      "absolutePath": "project:/contracts/Allocations.sol",
      "exportedSymbols": {
        "Allocations": [
          3300
        ]
      },
      "license": "MIT"
    },
    "children": [
      {
        "attributes": {
          "literals": [
            "solidity",
            ">=",
            "0.4",
            ".18"
          ]
        },
        "id": 3011,
        "name": "PragmaDirective",
        "src": "33:25:15"
      },
      {
        "attributes": {
          "literals": [
            "experimental",
            "ABIEncoderV2"
          ]
        },
        "id": 3012,
        "name": "PragmaDirective",
        "src": "59:33:15"
      },
      {
        "attributes": {
          "SourceUnit": 9743,
          "absolutePath": "project:/contracts/Zipper.sol",
          "file": "./Zipper.sol",
          "scope": 3301,
          "symbolAliases": [
            null
          ],
          "unitAlias": ""
        },
        "id": 3013,
        "name": "ImportDirective",
        "src": "94:22:15"
      },
      {
        "attributes": {
          "abstract": false,
          "baseContracts": [
            null
          ],
          "contractDependencies": [
            null
          ],
          "contractKind": "library",
          "fullyImplemented": true,
          "linearizedBaseContracts": [
            3300
          ],
          "name": "Allocations",
          "scope": 3301
        },
        "children": [
          {
            "attributes": {
              "text": "@title Dictionary storing allocations\n @author Giovanni Rescinito\n @notice Data structure implemented as an iterable map, produced during the apportionment algorithm to store allocations"
            },
            "id": 3014,
            "name": "StructuredDocumentation",
            "src": "119:197:15"
          },
          {
            "attributes": {
              "canonicalName": "Allocations.Allocation",
              "name": "Allocation",
              "scope": 3300,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "shares",
                  "overrides": null,
                  "scope": 3019,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "uint240",
                  "value": null,
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "uint240",
                      "type": "uint240"
                    },
                    "id": 3015,
                    "name": "ElementaryTypeName",
                    "src": "455:7:15"
                  }
                ],
                "id": 3016,
                "name": "VariableDeclaration",
                "src": "455:14:15"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "p",
                  "overrides": null,
                  "scope": 3019,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "uint16",
                  "value": null,
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "name": "uint16",
                      "type": "uint16"
                    },
                    "id": 3017,
                    "name": "ElementaryTypeName",
                    "src": "506:6:15"
                  }
                ],
                "id": 3018,
                "name": "VariableDeclaration",
                "src": "506:8:15"
              }
            ],
            "id": 3019,
            "name": "StructDefinition",
            "src": "427:137:15"
          },
          {
            "attributes": {
              "canonicalName": "Allocations.Map",
              "name": "Map",
              "scope": 3300,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "elements",
                  "overrides": null,
                  "scope": 3027,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "struct Allocations.Allocation[]",
                  "value": null,
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "length": null,
                      "type": "struct Allocations.Allocation[]"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Allocation",
                          "referencedDeclaration": 3019,
                          "type": "struct Allocations.Allocation"
                        },
                        "id": 3020,
                        "name": "UserDefinedTypeName",
                        "src": "641:10:15"
                      }
                    ],
                    "id": 3021,
                    "name": "ArrayTypeName",
                    "src": "641:12:15"
                  }
                ],
                "id": 3022,
                "name": "VariableDeclaration",
                "src": "641:21:15"
              },
              {
                "attributes": {
                  "constant": false,
                  "mutability": "mutable",
                  "name": "idx",
                  "overrides": null,
                  "scope": 3027,
                  "stateVariable": false,
                  "storageLocation": "default",
                  "type": "mapping(bytes32 => uint256)",
                  "value": null,
                  "visibility": "internal"
                },
                "children": [
                  {
                    "attributes": {
                      "type": "mapping(bytes32 => uint256)"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "bytes32",
                          "type": "bytes32"
                        },
                        "id": 3023,
                        "name": "ElementaryTypeName",
                        "src": "713:7:15"
                      },
                      {
                        "attributes": {
                          "name": "uint",
                          "type": "uint256"
                        },
                        "id": 3024,
                        "name": "ElementaryTypeName",
                        "src": "724:4:15"
                      }
                    ],
                    "id": 3025,
                    "name": "Mapping",
                    "src": "704:25:15"
                  }
                ],
                "id": 3026,
                "name": "VariableDeclaration",
                "src": "704:29:15"
              }
            ],
            "id": 3027,
            "name": "StructDefinition",
            "src": "620:154:15"
          },
          {
            "attributes": {
              "functionSelector": "90906e42",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "setAllocation",
              "overrides": null,
              "scope": 3300,
              "stateMutability": "nonpayable",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": "@notice creates a new allocation or updates the probability of an existing one\n @param map dictionary containing allocations\n @param a winners per cluster to insert/modify\n @param p probability of the specific allocation"
                },
                "id": 3028,
                "name": "StructuredDocumentation",
                "src": "795:245:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "map",
                      "overrides": null,
                      "scope": 3106,
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "type": "struct Allocations.Map",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Map",
                          "referencedDeclaration": 3027,
                          "type": "struct Allocations.Map"
                        },
                        "id": 3029,
                        "name": "UserDefinedTypeName",
                        "src": "1068:3:15"
                      }
                    ],
                    "id": 3030,
                    "name": "VariableDeclaration",
                    "src": "1068:15:15"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "a",
                      "overrides": null,
                      "scope": 3106,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "uint256[]",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "length": null,
                          "type": "uint256[]"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint",
                              "type": "uint256"
                            },
                            "id": 3031,
                            "name": "ElementaryTypeName",
                            "src": "1085:4:15"
                          }
                        ],
                        "id": 3032,
                        "name": "ArrayTypeName",
                        "src": "1085:6:15"
                      }
                    ],
                    "id": 3033,
                    "name": "VariableDeclaration",
                    "src": "1085:17:15"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "p",
                      "overrides": null,
                      "scope": 3106,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint",
                          "type": "uint256"
                        },
                        "id": 3034,
                        "name": "ElementaryTypeName",
                        "src": "1104:4:15"
                      }
                    ],
                    "id": 3035,
                    "name": "VariableDeclaration",
                    "src": "1104:6:15"
                  }
                ],
                "id": 3036,
                "name": "ParameterList",
                "src": "1067:44:15"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3037,
                "name": "ParameterList",
                "src": "1121:0:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3039
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "mutability": "mutable",
                          "name": "h",
                          "overrides": null,
                          "scope": 3105,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "bytes32",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "bytes32",
                              "type": "bytes32"
                            },
                            "id": 3038,
                            "name": "ElementaryTypeName",
                            "src": "1131:7:15"
                          }
                        ],
                        "id": 3039,
                        "name": "VariableDeclaration",
                        "src": "1131:9:15"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "tryCall": false,
                          "type": "bytes32",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_bytes_memory_ptr",
                                  "typeString": "bytes memory"
                                }
                              ],
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": -8,
                              "type": "function (bytes memory) pure returns (bytes32)",
                              "value": "keccak256"
                            },
                            "id": 3040,
                            "name": "Identifier",
                            "src": "1143:9:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "tryCall": false,
                              "type": "bytes memory",
                              "type_conversion": false
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                                      "typeString": "uint256[] calldata"
                                    }
                                  ],
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "member_name": "encodePacked",
                                  "referencedDeclaration": null,
                                  "type": "function () pure returns (bytes memory)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": -1,
                                      "type": "abi",
                                      "value": "abi"
                                    },
                                    "id": 3041,
                                    "name": "Identifier",
                                    "src": "1153:3:15"
                                  }
                                ],
                                "id": 3042,
                                "name": "MemberAccess",
                                "src": "1153:16:15"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3033,
                                  "type": "uint256[] calldata",
                                  "value": "a"
                                },
                                "id": 3043,
                                "name": "Identifier",
                                "src": "1170:1:15"
                              }
                            ],
                            "id": 3044,
                            "name": "FunctionCall",
                            "src": "1153:19:15"
                          }
                        ],
                        "id": 3045,
                        "name": "FunctionCall",
                        "src": "1143:30:15"
                      }
                    ],
                    "id": 3046,
                    "name": "VariableDeclarationStatement",
                    "src": "1131:42:15"
                  },
                  {
                    "attributes": {
                      "assignments": [
                        3048
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "mutability": "mutable",
                          "name": "index",
                          "overrides": null,
                          "scope": 3105,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "uint256",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint",
                              "type": "uint256"
                            },
                            "id": 3047,
                            "name": "ElementaryTypeName",
                            "src": "1183:4:15"
                          }
                        ],
                        "id": 3048,
                        "name": "VariableDeclaration",
                        "src": "1183:10:15"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "idx",
                              "referencedDeclaration": 3026,
                              "type": "mapping(bytes32 => uint256)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3030,
                                  "type": "struct Allocations.Map storage pointer",
                                  "value": "map"
                                },
                                "id": 3049,
                                "name": "Identifier",
                                "src": "1196:3:15"
                              }
                            ],
                            "id": 3050,
                            "name": "MemberAccess",
                            "src": "1196:7:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3039,
                              "type": "bytes32",
                              "value": "h"
                            },
                            "id": 3051,
                            "name": "Identifier",
                            "src": "1204:1:15"
                          }
                        ],
                        "id": 3052,
                        "name": "IndexAccess",
                        "src": "1196:10:15"
                      }
                    ],
                    "id": 3053,
                    "name": "VariableDeclarationStatement",
                    "src": "1183:23:15"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "==",
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3048,
                              "type": "uint256",
                              "value": "index"
                            },
                            "id": 3054,
                            "name": "Identifier",
                            "src": "1220:5:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "30",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 0",
                              "value": "0"
                            },
                            "id": 3055,
                            "name": "Literal",
                            "src": "1229:1:15"
                          }
                        ],
                        "id": 3056,
                        "name": "BinaryOperation",
                        "src": "1220:10:15"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "isStructConstructorCall": false,
                                  "lValueRequested": false,
                                  "names": [
                                    null
                                  ],
                                  "tryCall": false,
                                  "type": "tuple()",
                                  "type_conversion": false
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": [
                                        {
                                          "typeIdentifier": "t_struct$_Allocation_$3019_memory_ptr",
                                          "typeString": "struct Allocations.Allocation memory"
                                        }
                                      ],
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "push",
                                      "referencedDeclaration": null,
                                      "type": "function (struct Allocations.Allocation storage ref)"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "elements",
                                          "referencedDeclaration": 3022,
                                          "type": "struct Allocations.Allocation storage ref[] storage ref"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3030,
                                              "type": "struct Allocations.Map storage pointer",
                                              "value": "map"
                                            },
                                            "id": 3057,
                                            "name": "Identifier",
                                            "src": "1246:3:15"
                                          }
                                        ],
                                        "id": 3060,
                                        "name": "MemberAccess",
                                        "src": "1246:12:15"
                                      }
                                    ],
                                    "id": 3061,
                                    "name": "MemberAccess",
                                    "src": "1246:17:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": true,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "tryCall": false,
                                      "type": "struct Allocations.Allocation memory",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint240",
                                              "typeString": "uint240"
                                            },
                                            {
                                              "typeIdentifier": "t_uint16",
                                              "typeString": "uint16"
                                            }
                                          ],
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3019,
                                          "type": "type(struct Allocations.Allocation storage pointer)",
                                          "value": "Allocation"
                                        },
                                        "id": 3062,
                                        "name": "Identifier",
                                        "src": "1264:10:15"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "isStructConstructorCall": false,
                                          "lValueRequested": false,
                                          "names": [
                                            null
                                          ],
                                          "tryCall": false,
                                          "type": "uint240",
                                          "type_conversion": true
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": [
                                                {
                                                  "typeIdentifier": "t_uint256",
                                                  "typeString": "uint256"
                                                }
                                              ],
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": true,
                                              "lValueRequested": false,
                                              "type": "type(uint240)"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "name": "uint240",
                                                  "type": null
                                                },
                                                "id": 3063,
                                                "name": "ElementaryTypeName",
                                                "src": "1275:7:15"
                                              }
                                            ],
                                            "id": 3064,
                                            "name": "ElementaryTypeNameExpression",
                                            "src": "1275:7:15"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "isStructConstructorCall": false,
                                              "lValueRequested": false,
                                              "names": [
                                                null
                                              ],
                                              "tryCall": false,
                                              "type": "uint256",
                                              "type_conversion": false
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": [
                                                    {
                                                      "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                                                      "typeString": "uint256[] calldata"
                                                    },
                                                    {
                                                      "typeIdentifier": "t_rational_8_by_1",
                                                      "typeString": "int_const 8"
                                                    }
                                                  ],
                                                  "isConstant": false,
                                                  "isLValue": false,
                                                  "isPure": false,
                                                  "lValueRequested": false,
                                                  "member_name": "zipArrayWithSize",
                                                  "referencedDeclaration": 9142,
                                                  "type": "function (uint256[] memory,uint256) pure returns (uint256)"
                                                },
                                                "children": [
                                                  {
                                                    "attributes": {
                                                      "argumentTypes": null,
                                                      "overloadedDeclarations": [
                                                        null
                                                      ],
                                                      "referencedDeclaration": 9742,
                                                      "type": "type(library Zipper)",
                                                      "value": "Zipper"
                                                    },
                                                    "id": 3065,
                                                    "name": "Identifier",
                                                    "src": "1283:6:15"
                                                  }
                                                ],
                                                "id": 3066,
                                                "name": "MemberAccess",
                                                "src": "1283:23:15"
                                              },
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 3033,
                                                  "type": "uint256[] calldata",
                                                  "value": "a"
                                                },
                                                "id": 3067,
                                                "name": "Identifier",
                                                "src": "1307:1:15"
                                              },
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "hexvalue": "38",
                                                  "isConstant": false,
                                                  "isLValue": false,
                                                  "isPure": true,
                                                  "lValueRequested": false,
                                                  "subdenomination": null,
                                                  "token": "number",
                                                  "type": "int_const 8",
                                                  "value": "8"
                                                },
                                                "id": 3068,
                                                "name": "Literal",
                                                "src": "1309:1:15"
                                              }
                                            ],
                                            "id": 3069,
                                            "name": "FunctionCall",
                                            "src": "1283:28:15"
                                          }
                                        ],
                                        "id": 3070,
                                        "name": "FunctionCall",
                                        "src": "1275:37:15"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "isStructConstructorCall": false,
                                          "lValueRequested": false,
                                          "names": [
                                            null
                                          ],
                                          "tryCall": false,
                                          "type": "uint16",
                                          "type_conversion": true
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": [
                                                {
                                                  "typeIdentifier": "t_uint256",
                                                  "typeString": "uint256"
                                                }
                                              ],
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": true,
                                              "lValueRequested": false,
                                              "type": "type(uint16)"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "name": "uint16",
                                                  "type": null
                                                },
                                                "id": 3071,
                                                "name": "ElementaryTypeName",
                                                "src": "1314:6:15"
                                              }
                                            ],
                                            "id": 3072,
                                            "name": "ElementaryTypeNameExpression",
                                            "src": "1314:6:15"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3035,
                                              "type": "uint256",
                                              "value": "p"
                                            },
                                            "id": 3073,
                                            "name": "Identifier",
                                            "src": "1321:1:15"
                                          }
                                        ],
                                        "id": 3074,
                                        "name": "FunctionCall",
                                        "src": "1314:9:15"
                                      }
                                    ],
                                    "id": 3075,
                                    "name": "FunctionCall",
                                    "src": "1264:60:15"
                                  }
                                ],
                                "id": 3076,
                                "name": "FunctionCall",
                                "src": "1246:79:15"
                              }
                            ],
                            "id": 3077,
                            "name": "ExpressionStatement",
                            "src": "1246:79:15"
                          },
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": true,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "idx",
                                          "referencedDeclaration": 3026,
                                          "type": "mapping(bytes32 => uint256)"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3030,
                                              "type": "struct Allocations.Map storage pointer",
                                              "value": "map"
                                            },
                                            "id": 3078,
                                            "name": "Identifier",
                                            "src": "1339:3:15"
                                          }
                                        ],
                                        "id": 3081,
                                        "name": "MemberAccess",
                                        "src": "1339:7:15"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3039,
                                          "type": "bytes32",
                                          "value": "h"
                                        },
                                        "id": 3080,
                                        "name": "Identifier",
                                        "src": "1347:1:15"
                                      }
                                    ],
                                    "id": 3082,
                                    "name": "IndexAccess",
                                    "src": "1339:10:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "length",
                                      "referencedDeclaration": null,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "elements",
                                          "referencedDeclaration": 3022,
                                          "type": "struct Allocations.Allocation storage ref[] storage ref"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3030,
                                              "type": "struct Allocations.Map storage pointer",
                                              "value": "map"
                                            },
                                            "id": 3083,
                                            "name": "Identifier",
                                            "src": "1352:3:15"
                                          }
                                        ],
                                        "id": 3084,
                                        "name": "MemberAccess",
                                        "src": "1352:12:15"
                                      }
                                    ],
                                    "id": 3085,
                                    "name": "MemberAccess",
                                    "src": "1352:19:15"
                                  }
                                ],
                                "id": 3086,
                                "name": "Assignment",
                                "src": "1339:32:15"
                              }
                            ],
                            "id": 3087,
                            "name": "ExpressionStatement",
                            "src": "1339:32:15"
                          }
                        ],
                        "id": 3088,
                        "name": "Block",
                        "src": "1232:150:15"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint16"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": true,
                                      "member_name": "p",
                                      "referencedDeclaration": 3018,
                                      "type": "uint16"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "type": "struct Allocations.Allocation storage ref"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": true,
                                              "isPure": false,
                                              "lValueRequested": false,
                                              "member_name": "elements",
                                              "referencedDeclaration": 3022,
                                              "type": "struct Allocations.Allocation storage ref[] storage ref"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 3030,
                                                  "type": "struct Allocations.Map storage pointer",
                                                  "value": "map"
                                                },
                                                "id": 3089,
                                                "name": "Identifier",
                                                "src": "1401:3:15"
                                              }
                                            ],
                                            "id": 3094,
                                            "name": "MemberAccess",
                                            "src": "1401:12:15"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "commonType": {
                                                "typeIdentifier": "t_uint256",
                                                "typeString": "uint256"
                                              },
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "lValueRequested": false,
                                              "operator": "-",
                                              "type": "uint256"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 3048,
                                                  "type": "uint256",
                                                  "value": "index"
                                                },
                                                "id": 3091,
                                                "name": "Identifier",
                                                "src": "1414:5:15"
                                              },
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "hexvalue": "31",
                                                  "isConstant": false,
                                                  "isLValue": false,
                                                  "isPure": true,
                                                  "lValueRequested": false,
                                                  "subdenomination": null,
                                                  "token": "number",
                                                  "type": "int_const 1",
                                                  "value": "1"
                                                },
                                                "id": 3092,
                                                "name": "Literal",
                                                "src": "1422:1:15"
                                              }
                                            ],
                                            "id": 3093,
                                            "name": "BinaryOperation",
                                            "src": "1414:9:15"
                                          }
                                        ],
                                        "id": 3095,
                                        "name": "IndexAccess",
                                        "src": "1401:23:15"
                                      }
                                    ],
                                    "id": 3096,
                                    "name": "MemberAccess",
                                    "src": "1401:25:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "tryCall": false,
                                      "type": "uint16",
                                      "type_conversion": true
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint256",
                                              "typeString": "uint256"
                                            }
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "lValueRequested": false,
                                          "type": "type(uint16)"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "name": "uint16",
                                              "type": null
                                            },
                                            "id": 3097,
                                            "name": "ElementaryTypeName",
                                            "src": "1429:6:15"
                                          }
                                        ],
                                        "id": 3098,
                                        "name": "ElementaryTypeNameExpression",
                                        "src": "1429:6:15"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3035,
                                          "type": "uint256",
                                          "value": "p"
                                        },
                                        "id": 3099,
                                        "name": "Identifier",
                                        "src": "1436:1:15"
                                      }
                                    ],
                                    "id": 3100,
                                    "name": "FunctionCall",
                                    "src": "1429:9:15"
                                  }
                                ],
                                "id": 3101,
                                "name": "Assignment",
                                "src": "1401:37:15"
                              }
                            ],
                            "id": 3102,
                            "name": "ExpressionStatement",
                            "src": "1401:37:15"
                          }
                        ],
                        "id": 3103,
                        "name": "Block",
                        "src": "1387:62:15"
                      }
                    ],
                    "id": 3104,
                    "name": "IfStatement",
                    "src": "1216:233:15"
                  }
                ],
                "id": 3105,
                "name": "Block",
                "src": "1121:334:15"
              }
            ],
            "id": 3106,
            "name": "FunctionDefinition",
            "src": "1045:410:15"
          },
          {
            "attributes": {
              "functionSelector": "ba776fdb",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "updateShares",
              "overrides": null,
              "scope": 3300,
              "stateMutability": "nonpayable",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": "@notice updates the winners per cluster of an allocation specified by its index\n @param map dictionary containing allocations\n @param index index of the allocation to modify\n @param shares winners per cluster to update"
                },
                "id": 3107,
                "name": "StructuredDocumentation",
                "src": "1461:243:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "map",
                      "overrides": null,
                      "scope": 3147,
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "type": "struct Allocations.Map",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Map",
                          "referencedDeclaration": 3027,
                          "type": "struct Allocations.Map"
                        },
                        "id": 3108,
                        "name": "UserDefinedTypeName",
                        "src": "1731:3:15"
                      }
                    ],
                    "id": 3109,
                    "name": "VariableDeclaration",
                    "src": "1731:15:15"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "index",
                      "overrides": null,
                      "scope": 3147,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint",
                          "type": "uint256"
                        },
                        "id": 3110,
                        "name": "ElementaryTypeName",
                        "src": "1748:4:15"
                      }
                    ],
                    "id": 3111,
                    "name": "VariableDeclaration",
                    "src": "1748:10:15"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "shares",
                      "overrides": null,
                      "scope": 3147,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "uint256[]",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "length": null,
                          "type": "uint256[]"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint",
                              "type": "uint256"
                            },
                            "id": 3112,
                            "name": "ElementaryTypeName",
                            "src": "1760:4:15"
                          }
                        ],
                        "id": 3113,
                        "name": "ArrayTypeName",
                        "src": "1760:6:15"
                      }
                    ],
                    "id": 3114,
                    "name": "VariableDeclaration",
                    "src": "1760:22:15"
                  }
                ],
                "id": 3115,
                "name": "ParameterList",
                "src": "1730:53:15"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3116,
                "name": "ParameterList",
                "src": "1793:0:15"
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "tryCall": false,
                          "type": "tuple()",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                {
                                  "typeIdentifier": "t_stringliteral_7d512e6bd5a093cafcf85ab0c30e72ee0506c3897bdeb4aeb917f86bdabbf8c5",
                                  "typeString": "literal_string \"Map out of bounds\""
                                }
                              ],
                              "overloadedDeclarations": [
                                -18,
                                -18
                              ],
                              "referencedDeclaration": -18,
                              "type": "function (bool,string memory) pure",
                              "value": "require"
                            },
                            "id": 3117,
                            "name": "Identifier",
                            "src": "1803:7:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": "&&",
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": ">=",
                                  "type": "bool"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3111,
                                      "type": "uint256",
                                      "value": "index"
                                    },
                                    "id": 3118,
                                    "name": "Identifier",
                                    "src": "1811:5:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "hexvalue": "30",
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "subdenomination": null,
                                      "token": "number",
                                      "type": "int_const 0",
                                      "value": "0"
                                    },
                                    "id": 3119,
                                    "name": "Literal",
                                    "src": "1820:1:15"
                                  }
                                ],
                                "id": 3120,
                                "name": "BinaryOperation",
                                "src": "1811:10:15"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "<",
                                  "type": "bool"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3111,
                                      "type": "uint256",
                                      "value": "index"
                                    },
                                    "id": 3121,
                                    "name": "Identifier",
                                    "src": "1825:5:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "length",
                                      "referencedDeclaration": null,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "elements",
                                          "referencedDeclaration": 3022,
                                          "type": "struct Allocations.Allocation storage ref[] storage ref"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3109,
                                              "type": "struct Allocations.Map storage pointer",
                                              "value": "map"
                                            },
                                            "id": 3122,
                                            "name": "Identifier",
                                            "src": "1833:3:15"
                                          }
                                        ],
                                        "id": 3123,
                                        "name": "MemberAccess",
                                        "src": "1833:12:15"
                                      }
                                    ],
                                    "id": 3124,
                                    "name": "MemberAccess",
                                    "src": "1833:19:15"
                                  }
                                ],
                                "id": 3125,
                                "name": "BinaryOperation",
                                "src": "1825:27:15"
                              }
                            ],
                            "id": 3126,
                            "name": "BinaryOperation",
                            "src": "1811:41:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "4d6170206f7574206f6620626f756e6473",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "string",
                              "type": "literal_string \"Map out of bounds\"",
                              "value": "Map out of bounds"
                            },
                            "id": 3127,
                            "name": "Literal",
                            "src": "1854:19:15"
                          }
                        ],
                        "id": 3128,
                        "name": "FunctionCall",
                        "src": "1803:71:15"
                      }
                    ],
                    "id": 3129,
                    "name": "ExpressionStatement",
                    "src": "1803:71:15"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint240"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": true,
                              "member_name": "shares",
                              "referencedDeclaration": 3016,
                              "type": "uint240"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": true,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "type": "struct Allocations.Allocation storage ref"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "elements",
                                      "referencedDeclaration": 3022,
                                      "type": "struct Allocations.Allocation storage ref[] storage ref"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3109,
                                          "type": "struct Allocations.Map storage pointer",
                                          "value": "map"
                                        },
                                        "id": 3130,
                                        "name": "Identifier",
                                        "src": "1885:3:15"
                                      }
                                    ],
                                    "id": 3133,
                                    "name": "MemberAccess",
                                    "src": "1885:12:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3111,
                                      "type": "uint256",
                                      "value": "index"
                                    },
                                    "id": 3132,
                                    "name": "Identifier",
                                    "src": "1898:5:15"
                                  }
                                ],
                                "id": 3134,
                                "name": "IndexAccess",
                                "src": "1885:19:15"
                              }
                            ],
                            "id": 3135,
                            "name": "MemberAccess",
                            "src": "1885:26:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "isStructConstructorCall": false,
                              "lValueRequested": false,
                              "names": [
                                null
                              ],
                              "tryCall": false,
                              "type": "uint240",
                              "type_conversion": true
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": [
                                    {
                                      "typeIdentifier": "t_uint256",
                                      "typeString": "uint256"
                                    }
                                  ],
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "type": "type(uint240)"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "name": "uint240",
                                      "type": null
                                    },
                                    "id": 3136,
                                    "name": "ElementaryTypeName",
                                    "src": "1914:7:15"
                                  }
                                ],
                                "id": 3137,
                                "name": "ElementaryTypeNameExpression",
                                "src": "1914:7:15"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "isStructConstructorCall": false,
                                  "lValueRequested": false,
                                  "names": [
                                    null
                                  ],
                                  "tryCall": false,
                                  "type": "uint256",
                                  "type_conversion": false
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": [
                                        {
                                          "typeIdentifier": "t_array$_t_uint256_$dyn_calldata_ptr",
                                          "typeString": "uint256[] calldata"
                                        },
                                        {
                                          "typeIdentifier": "t_rational_8_by_1",
                                          "typeString": "int_const 8"
                                        }
                                      ],
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "zipArrayWithSize",
                                      "referencedDeclaration": 9142,
                                      "type": "function (uint256[] memory,uint256) pure returns (uint256)"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 9742,
                                          "type": "type(library Zipper)",
                                          "value": "Zipper"
                                        },
                                        "id": 3138,
                                        "name": "Identifier",
                                        "src": "1922:6:15"
                                      }
                                    ],
                                    "id": 3139,
                                    "name": "MemberAccess",
                                    "src": "1922:23:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3114,
                                      "type": "uint256[] calldata",
                                      "value": "shares"
                                    },
                                    "id": 3140,
                                    "name": "Identifier",
                                    "src": "1946:6:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "hexvalue": "38",
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "subdenomination": null,
                                      "token": "number",
                                      "type": "int_const 8",
                                      "value": "8"
                                    },
                                    "id": 3141,
                                    "name": "Literal",
                                    "src": "1953:1:15"
                                  }
                                ],
                                "id": 3142,
                                "name": "FunctionCall",
                                "src": "1922:33:15"
                              }
                            ],
                            "id": 3143,
                            "name": "FunctionCall",
                            "src": "1914:42:15"
                          }
                        ],
                        "id": 3144,
                        "name": "Assignment",
                        "src": "1885:71:15"
                      }
                    ],
                    "id": 3145,
                    "name": "ExpressionStatement",
                    "src": "1885:71:15"
                  }
                ],
                "id": 3146,
                "name": "Block",
                "src": "1793:170:15"
              }
            ],
            "id": 3147,
            "name": "FunctionDefinition",
            "src": "1709:254:15"
          },
          {
            "attributes": {
              "functionSelector": "4398d1b5",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "length",
              "overrides": null,
              "scope": 3300,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": "@param map dictionary containing allocations\n @return the number of allocations stored"
                },
                "id": 3148,
                "name": "StructuredDocumentation",
                "src": "1984:97:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "map",
                      "overrides": null,
                      "scope": 3160,
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "type": "struct Allocations.Map",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Map",
                          "referencedDeclaration": 3027,
                          "type": "struct Allocations.Map"
                        },
                        "id": 3149,
                        "name": "UserDefinedTypeName",
                        "src": "2102:3:15"
                      }
                    ],
                    "id": 3150,
                    "name": "VariableDeclaration",
                    "src": "2102:15:15"
                  }
                ],
                "id": 3151,
                "name": "ParameterList",
                "src": "2101:17:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "overrides": null,
                      "scope": 3160,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint",
                          "type": "uint256"
                        },
                        "id": 3152,
                        "name": "ElementaryTypeName",
                        "src": "2142:4:15"
                      }
                    ],
                    "id": 3153,
                    "name": "VariableDeclaration",
                    "src": "2142:4:15"
                  }
                ],
                "id": 3154,
                "name": "ParameterList",
                "src": "2141:6:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "functionReturnParameters": 3154
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "member_name": "length",
                          "referencedDeclaration": null,
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "elements",
                              "referencedDeclaration": 3022,
                              "type": "struct Allocations.Allocation storage ref[] storage ref"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3150,
                                  "type": "struct Allocations.Map storage pointer",
                                  "value": "map"
                                },
                                "id": 3155,
                                "name": "Identifier",
                                "src": "2164:3:15"
                              }
                            ],
                            "id": 3156,
                            "name": "MemberAccess",
                            "src": "2164:12:15"
                          }
                        ],
                        "id": 3157,
                        "name": "MemberAccess",
                        "src": "2164:19:15"
                      }
                    ],
                    "id": 3158,
                    "name": "Return",
                    "src": "2157:26:15"
                  }
                ],
                "id": 3159,
                "name": "Block",
                "src": "2147:43:15"
              }
            ],
            "id": 3160,
            "name": "FunctionDefinition",
            "src": "2086:104:15"
          },
          {
            "attributes": {
              "functionSelector": "a239e256",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getAllocations",
              "overrides": null,
              "scope": 3300,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": "@param map dictionary containing allocations\n @return the list of allocations and the list of corresponding probabilities"
                },
                "id": 3161,
                "name": "StructuredDocumentation",
                "src": "2196:132:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "map",
                      "overrides": null,
                      "scope": 3241,
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "type": "struct Allocations.Map",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Map",
                          "referencedDeclaration": 3027,
                          "type": "struct Allocations.Map"
                        },
                        "id": 3162,
                        "name": "UserDefinedTypeName",
                        "src": "2357:3:15"
                      }
                    ],
                    "id": 3163,
                    "name": "VariableDeclaration",
                    "src": "2357:15:15"
                  }
                ],
                "id": 3164,
                "name": "ParameterList",
                "src": "2356:17:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "overrides": null,
                      "scope": 3241,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "uint256[][]",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "length": null,
                          "type": "uint256[][]"
                        },
                        "children": [
                          {
                            "attributes": {
                              "length": null,
                              "type": "uint256[]"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "name": "uint",
                                  "type": "uint256"
                                },
                                "id": 3165,
                                "name": "ElementaryTypeName",
                                "src": "2397:4:15"
                              }
                            ],
                            "id": 3166,
                            "name": "ArrayTypeName",
                            "src": "2397:6:15"
                          }
                        ],
                        "id": 3167,
                        "name": "ArrayTypeName",
                        "src": "2397:8:15"
                      }
                    ],
                    "id": 3168,
                    "name": "VariableDeclaration",
                    "src": "2397:15:15"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "overrides": null,
                      "scope": 3241,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "uint256[]",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "length": null,
                          "type": "uint256[]"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint",
                              "type": "uint256"
                            },
                            "id": 3169,
                            "name": "ElementaryTypeName",
                            "src": "2414:4:15"
                          }
                        ],
                        "id": 3170,
                        "name": "ArrayTypeName",
                        "src": "2414:6:15"
                      }
                    ],
                    "id": 3171,
                    "name": "VariableDeclaration",
                    "src": "2414:13:15"
                  }
                ],
                "id": 3172,
                "name": "ParameterList",
                "src": "2396:32:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3174
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "mutability": "mutable",
                          "name": "n",
                          "overrides": null,
                          "scope": 3240,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "uint256",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint",
                              "type": "uint256"
                            },
                            "id": 3173,
                            "name": "ElementaryTypeName",
                            "src": "2439:4:15"
                          }
                        ],
                        "id": 3174,
                        "name": "VariableDeclaration",
                        "src": "2439:6:15"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "member_name": "length",
                          "referencedDeclaration": null,
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "elements",
                              "referencedDeclaration": 3022,
                              "type": "struct Allocations.Allocation storage ref[] storage ref"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3163,
                                  "type": "struct Allocations.Map storage pointer",
                                  "value": "map"
                                },
                                "id": 3175,
                                "name": "Identifier",
                                "src": "2448:3:15"
                              }
                            ],
                            "id": 3176,
                            "name": "MemberAccess",
                            "src": "2448:12:15"
                          }
                        ],
                        "id": 3177,
                        "name": "MemberAccess",
                        "src": "2448:19:15"
                      }
                    ],
                    "id": 3178,
                    "name": "VariableDeclarationStatement",
                    "src": "2439:28:15"
                  },
                  {
                    "attributes": {
                      "assignments": [
                        3184
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "mutability": "mutable",
                          "name": "allocations",
                          "overrides": null,
                          "scope": 3240,
                          "stateVariable": false,
                          "storageLocation": "memory",
                          "type": "uint256[][]",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "length": null,
                              "type": "uint256[][]"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "length": null,
                                  "type": "uint256[]"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "name": "uint",
                                      "type": "uint256"
                                    },
                                    "id": 3181,
                                    "name": "ElementaryTypeName",
                                    "src": "2477:4:15"
                                  }
                                ],
                                "id": 3182,
                                "name": "ArrayTypeName",
                                "src": "2477:6:15"
                              }
                            ],
                            "id": 3183,
                            "name": "ArrayTypeName",
                            "src": "2477:8:15"
                          }
                        ],
                        "id": 3184,
                        "name": "VariableDeclaration",
                        "src": "2477:27:15"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "tryCall": false,
                          "type": "uint256[] memory[] memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "type": "function (uint256) pure returns (uint256[] memory[] memory)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "length": null,
                                  "type": "uint256[][]"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "length": null,
                                      "type": "uint256[]"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "name": "uint",
                                          "type": "uint256"
                                        },
                                        "id": 3185,
                                        "name": "ElementaryTypeName",
                                        "src": "2511:4:15"
                                      }
                                    ],
                                    "id": 3186,
                                    "name": "ArrayTypeName",
                                    "src": "2511:6:15"
                                  }
                                ],
                                "id": 3187,
                                "name": "ArrayTypeName",
                                "src": "2511:8:15"
                              }
                            ],
                            "id": 3188,
                            "name": "NewExpression",
                            "src": "2507:12:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3174,
                              "type": "uint256",
                              "value": "n"
                            },
                            "id": 3189,
                            "name": "Identifier",
                            "src": "2520:1:15"
                          }
                        ],
                        "id": 3190,
                        "name": "FunctionCall",
                        "src": "2507:15:15"
                      }
                    ],
                    "id": 3191,
                    "name": "VariableDeclarationStatement",
                    "src": "2477:45:15"
                  },
                  {
                    "attributes": {
                      "assignments": [
                        3196
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "mutability": "mutable",
                          "name": "p",
                          "overrides": null,
                          "scope": 3240,
                          "stateVariable": false,
                          "storageLocation": "memory",
                          "type": "uint256[]",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "length": null,
                              "type": "uint256[]"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "name": "uint",
                                  "type": "uint256"
                                },
                                "id": 3194,
                                "name": "ElementaryTypeName",
                                "src": "2532:4:15"
                              }
                            ],
                            "id": 3195,
                            "name": "ArrayTypeName",
                            "src": "2532:6:15"
                          }
                        ],
                        "id": 3196,
                        "name": "VariableDeclaration",
                        "src": "2532:15:15"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "tryCall": false,
                          "type": "uint256[] memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint256",
                                  "typeString": "uint256"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "type": "function (uint256) pure returns (uint256[] memory)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "length": null,
                                  "type": "uint256[]"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "name": "uint",
                                      "type": "uint256"
                                    },
                                    "id": 3197,
                                    "name": "ElementaryTypeName",
                                    "src": "2554:4:15"
                                  }
                                ],
                                "id": 3198,
                                "name": "ArrayTypeName",
                                "src": "2554:6:15"
                              }
                            ],
                            "id": 3199,
                            "name": "NewExpression",
                            "src": "2550:10:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3174,
                              "type": "uint256",
                              "value": "n"
                            },
                            "id": 3200,
                            "name": "Identifier",
                            "src": "2561:1:15"
                          }
                        ],
                        "id": 3201,
                        "name": "FunctionCall",
                        "src": "2550:13:15"
                      }
                    ],
                    "id": 3202,
                    "name": "VariableDeclarationStatement",
                    "src": "2532:31:15"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "assignments": [
                            3204
                          ]
                        },
                        "children": [
                          {
                            "attributes": {
                              "constant": false,
                              "mutability": "mutable",
                              "name": "i",
                              "overrides": null,
                              "scope": 3235,
                              "stateVariable": false,
                              "storageLocation": "default",
                              "type": "uint256",
                              "value": null,
                              "visibility": "internal"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "name": "uint",
                                  "type": "uint256"
                                },
                                "id": 3203,
                                "name": "ElementaryTypeName",
                                "src": "2578:4:15"
                              }
                            ],
                            "id": 3204,
                            "name": "VariableDeclaration",
                            "src": "2578:6:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "30",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 0",
                              "value": "0"
                            },
                            "id": 3205,
                            "name": "Literal",
                            "src": "2585:1:15"
                          }
                        ],
                        "id": 3206,
                        "name": "VariableDeclarationStatement",
                        "src": "2578:8:15"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "<",
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3204,
                              "type": "uint256",
                              "value": "i"
                            },
                            "id": 3207,
                            "name": "Identifier",
                            "src": "2587:1:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3174,
                              "type": "uint256",
                              "value": "n"
                            },
                            "id": 3208,
                            "name": "Identifier",
                            "src": "2589:1:15"
                          }
                        ],
                        "id": 3209,
                        "name": "BinaryOperation",
                        "src": "2587:3:15"
                      },
                      {
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": "++",
                              "prefix": false,
                              "type": "uint256"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3204,
                                  "type": "uint256",
                                  "value": "i"
                                },
                                "id": 3210,
                                "name": "Identifier",
                                "src": "2591:1:15"
                              }
                            ],
                            "id": 3211,
                            "name": "UnaryOperation",
                            "src": "2591:3:15"
                          }
                        ],
                        "id": 3212,
                        "name": "ExpressionStatement",
                        "src": "2591:3:15"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256[] memory"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": true,
                                      "type": "uint256[] memory"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3184,
                                          "type": "uint256[] memory[] memory",
                                          "value": "allocations"
                                        },
                                        "id": 3213,
                                        "name": "Identifier",
                                        "src": "2609:11:15"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3204,
                                          "type": "uint256",
                                          "value": "i"
                                        },
                                        "id": 3214,
                                        "name": "Identifier",
                                        "src": "2621:1:15"
                                      }
                                    ],
                                    "id": 3215,
                                    "name": "IndexAccess",
                                    "src": "2609:14:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "tryCall": false,
                                      "type": "uint256[] memory",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_struct$_Allocation_$3019_storage",
                                              "typeString": "struct Allocations.Allocation storage ref"
                                            }
                                          ],
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3270,
                                          "type": "function (struct Allocations.Allocation memory) pure returns (uint256[] memory)",
                                          "value": "getShares"
                                        },
                                        "id": 3216,
                                        "name": "Identifier",
                                        "src": "2626:9:15"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "type": "struct Allocations.Allocation storage ref"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": true,
                                              "isPure": false,
                                              "lValueRequested": false,
                                              "member_name": "elements",
                                              "referencedDeclaration": 3022,
                                              "type": "struct Allocations.Allocation storage ref[] storage ref"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 3163,
                                                  "type": "struct Allocations.Map storage pointer",
                                                  "value": "map"
                                                },
                                                "id": 3217,
                                                "name": "Identifier",
                                                "src": "2636:3:15"
                                              }
                                            ],
                                            "id": 3218,
                                            "name": "MemberAccess",
                                            "src": "2636:12:15"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3204,
                                              "type": "uint256",
                                              "value": "i"
                                            },
                                            "id": 3219,
                                            "name": "Identifier",
                                            "src": "2649:1:15"
                                          }
                                        ],
                                        "id": 3220,
                                        "name": "IndexAccess",
                                        "src": "2636:15:15"
                                      }
                                    ],
                                    "id": 3221,
                                    "name": "FunctionCall",
                                    "src": "2626:26:15"
                                  }
                                ],
                                "id": 3222,
                                "name": "Assignment",
                                "src": "2609:43:15"
                              }
                            ],
                            "id": 3223,
                            "name": "ExpressionStatement",
                            "src": "2609:43:15"
                          },
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": true,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3196,
                                          "type": "uint256[] memory",
                                          "value": "p"
                                        },
                                        "id": 3224,
                                        "name": "Identifier",
                                        "src": "2666:1:15"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3204,
                                          "type": "uint256",
                                          "value": "i"
                                        },
                                        "id": 3225,
                                        "name": "Identifier",
                                        "src": "2668:1:15"
                                      }
                                    ],
                                    "id": 3226,
                                    "name": "IndexAccess",
                                    "src": "2666:4:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": true,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "p",
                                      "referencedDeclaration": 3018,
                                      "type": "uint16"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "type": "struct Allocations.Allocation storage ref"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": true,
                                              "isPure": false,
                                              "lValueRequested": false,
                                              "member_name": "elements",
                                              "referencedDeclaration": 3022,
                                              "type": "struct Allocations.Allocation storage ref[] storage ref"
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 3163,
                                                  "type": "struct Allocations.Map storage pointer",
                                                  "value": "map"
                                                },
                                                "id": 3227,
                                                "name": "Identifier",
                                                "src": "2673:3:15"
                                              }
                                            ],
                                            "id": 3228,
                                            "name": "MemberAccess",
                                            "src": "2673:12:15"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3204,
                                              "type": "uint256",
                                              "value": "i"
                                            },
                                            "id": 3229,
                                            "name": "Identifier",
                                            "src": "2686:1:15"
                                          }
                                        ],
                                        "id": 3230,
                                        "name": "IndexAccess",
                                        "src": "2673:15:15"
                                      }
                                    ],
                                    "id": 3231,
                                    "name": "MemberAccess",
                                    "src": "2673:17:15"
                                  }
                                ],
                                "id": 3232,
                                "name": "Assignment",
                                "src": "2666:24:15"
                              }
                            ],
                            "id": 3233,
                            "name": "ExpressionStatement",
                            "src": "2666:24:15"
                          }
                        ],
                        "id": 3234,
                        "name": "Block",
                        "src": "2595:106:15"
                      }
                    ],
                    "id": 3235,
                    "name": "ForStatement",
                    "src": "2573:128:15"
                  },
                  {
                    "attributes": {
                      "functionReturnParameters": 3172
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isInlineArray": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "type": "tuple(uint256[] memory[] memory,uint256[] memory)"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3184,
                              "type": "uint256[] memory[] memory",
                              "value": "allocations"
                            },
                            "id": 3236,
                            "name": "Identifier",
                            "src": "2718:11:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3196,
                              "type": "uint256[] memory",
                              "value": "p"
                            },
                            "id": 3237,
                            "name": "Identifier",
                            "src": "2730:1:15"
                          }
                        ],
                        "id": 3238,
                        "name": "TupleExpression",
                        "src": "2717:15:15"
                      }
                    ],
                    "id": 3239,
                    "name": "Return",
                    "src": "2710:22:15"
                  }
                ],
                "id": 3240,
                "name": "Block",
                "src": "2429:310:15"
              }
            ],
            "id": 3241,
            "name": "FunctionDefinition",
            "src": "2333:406:15"
          },
          {
            "attributes": {
              "functionSelector": "74eef8d5",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getP",
              "overrides": null,
              "scope": 3300,
              "stateMutability": "pure",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": "@param a allocation for which the probability is required\n @return the probability associated to the allocation"
                },
                "id": 3242,
                "name": "StructuredDocumentation",
                "src": "2745:122:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "a",
                      "overrides": null,
                      "scope": 3253,
                      "stateVariable": false,
                      "storageLocation": "calldata",
                      "type": "struct Allocations.Allocation",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Allocation",
                          "referencedDeclaration": 3019,
                          "type": "struct Allocations.Allocation"
                        },
                        "id": 3243,
                        "name": "UserDefinedTypeName",
                        "src": "2886:10:15"
                      }
                    ],
                    "id": 3244,
                    "name": "VariableDeclaration",
                    "src": "2886:21:15"
                  }
                ],
                "id": 3245,
                "name": "ParameterList",
                "src": "2885:23:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "overrides": null,
                      "scope": 3253,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint",
                          "type": "uint256"
                        },
                        "id": 3246,
                        "name": "ElementaryTypeName",
                        "src": "2932:4:15"
                      }
                    ],
                    "id": 3247,
                    "name": "VariableDeclaration",
                    "src": "2932:4:15"
                  }
                ],
                "id": 3248,
                "name": "ParameterList",
                "src": "2931:6:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "functionReturnParameters": 3248
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "member_name": "p",
                          "referencedDeclaration": 3018,
                          "type": "uint16"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3244,
                              "type": "struct Allocations.Allocation calldata",
                              "value": "a"
                            },
                            "id": 3249,
                            "name": "Identifier",
                            "src": "2955:1:15"
                          }
                        ],
                        "id": 3250,
                        "name": "MemberAccess",
                        "src": "2955:3:15"
                      }
                    ],
                    "id": 3251,
                    "name": "Return",
                    "src": "2948:10:15"
                  }
                ],
                "id": 3252,
                "name": "Block",
                "src": "2938:27:15"
              }
            ],
            "id": 3253,
            "name": "FunctionDefinition",
            "src": "2872:93:15"
          },
          {
            "attributes": {
              "functionSelector": "bf506b16",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getShares",
              "overrides": null,
              "scope": 3300,
              "stateMutability": "pure",
              "virtual": false,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "text": "@param a allocation for which the winners per cluster are required\n @return the winners per cluster associated to the allocation"
                },
                "id": 3254,
                "name": "StructuredDocumentation",
                "src": "2971:139:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "a",
                      "overrides": null,
                      "scope": 3270,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct Allocations.Allocation",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Allocation",
                          "referencedDeclaration": 3019,
                          "type": "struct Allocations.Allocation"
                        },
                        "id": 3255,
                        "name": "UserDefinedTypeName",
                        "src": "3134:10:15"
                      }
                    ],
                    "id": 3256,
                    "name": "VariableDeclaration",
                    "src": "3134:19:15"
                  }
                ],
                "id": 3257,
                "name": "ParameterList",
                "src": "3133:21:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "overrides": null,
                      "scope": 3270,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "uint256[]",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "length": null,
                          "type": "uint256[]"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "uint",
                              "type": "uint256"
                            },
                            "id": 3258,
                            "name": "ElementaryTypeName",
                            "src": "3176:4:15"
                          }
                        ],
                        "id": 3259,
                        "name": "ArrayTypeName",
                        "src": "3176:6:15"
                      }
                    ],
                    "id": 3260,
                    "name": "VariableDeclaration",
                    "src": "3176:13:15"
                  }
                ],
                "id": 3261,
                "name": "ParameterList",
                "src": "3175:15:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "functionReturnParameters": 3261
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "tryCall": false,
                          "type": "uint256[] memory",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_uint240",
                                  "typeString": "uint240"
                                },
                                {
                                  "typeIdentifier": "t_rational_8_by_1",
                                  "typeString": "int_const 8"
                                }
                              ],
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "unzipArrayWithSize",
                              "referencedDeclaration": 9178,
                              "type": "function (uint256,uint256) pure returns (uint256[] memory)"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 9742,
                                  "type": "type(library Zipper)",
                                  "value": "Zipper"
                                },
                                "id": 3262,
                                "name": "Identifier",
                                "src": "3208:6:15"
                              }
                            ],
                            "id": 3263,
                            "name": "MemberAccess",
                            "src": "3208:25:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "shares",
                              "referencedDeclaration": 3016,
                              "type": "uint240"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3256,
                                  "type": "struct Allocations.Allocation memory",
                                  "value": "a"
                                },
                                "id": 3264,
                                "name": "Identifier",
                                "src": "3234:1:15"
                              }
                            ],
                            "id": 3265,
                            "name": "MemberAccess",
                            "src": "3234:8:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "38",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 8",
                              "value": "8"
                            },
                            "id": 3266,
                            "name": "Literal",
                            "src": "3243:1:15"
                          }
                        ],
                        "id": 3267,
                        "name": "FunctionCall",
                        "src": "3208:37:15"
                      }
                    ],
                    "id": 3268,
                    "name": "Return",
                    "src": "3201:44:15"
                  }
                ],
                "id": 3269,
                "name": "Block",
                "src": "3191:61:15"
              }
            ],
            "id": 3270,
            "name": "FunctionDefinition",
            "src": "3115:137:15"
          },
          {
            "attributes": {
              "functionSelector": "cbbbd485",
              "implemented": true,
              "isConstructor": false,
              "kind": "function",
              "modifiers": [
                null
              ],
              "name": "getAllocationAt",
              "overrides": null,
              "scope": 3300,
              "stateMutability": "view",
              "virtual": false,
              "visibility": "external"
            },
            "children": [
              {
                "attributes": {
                  "text": "@param map dictionary containing allocations\n @param index allocation for which the probability is required\n @return the allocation stored at a specified index"
                },
                "id": 3271,
                "name": "StructuredDocumentation",
                "src": "3258:177:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "map",
                      "overrides": null,
                      "scope": 3299,
                      "stateVariable": false,
                      "storageLocation": "storage",
                      "type": "struct Allocations.Map",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Map",
                          "referencedDeclaration": 3027,
                          "type": "struct Allocations.Map"
                        },
                        "id": 3272,
                        "name": "UserDefinedTypeName",
                        "src": "3465:3:15"
                      }
                    ],
                    "id": 3273,
                    "name": "VariableDeclaration",
                    "src": "3465:15:15"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "index",
                      "overrides": null,
                      "scope": 3299,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint",
                          "type": "uint256"
                        },
                        "id": 3274,
                        "name": "ElementaryTypeName",
                        "src": "3482:4:15"
                      }
                    ],
                    "id": 3275,
                    "name": "VariableDeclaration",
                    "src": "3482:10:15"
                  }
                ],
                "id": 3276,
                "name": "ParameterList",
                "src": "3464:29:15"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "mutability": "mutable",
                      "name": "",
                      "overrides": null,
                      "scope": 3299,
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "type": "struct Allocations.Allocation",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "contractScope": null,
                          "name": "Allocation",
                          "referencedDeclaration": 3019,
                          "type": "struct Allocations.Allocation"
                        },
                        "id": 3277,
                        "name": "UserDefinedTypeName",
                        "src": "3517:10:15"
                      }
                    ],
                    "id": 3278,
                    "name": "VariableDeclaration",
                    "src": "3517:17:15"
                  }
                ],
                "id": 3279,
                "name": "ParameterList",
                "src": "3516:19:15"
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "tryCall": false,
                          "type": "tuple()",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                },
                                {
                                  "typeIdentifier": "t_stringliteral_7d512e6bd5a093cafcf85ab0c30e72ee0506c3897bdeb4aeb917f86bdabbf8c5",
                                  "typeString": "literal_string \"Map out of bounds\""
                                }
                              ],
                              "overloadedDeclarations": [
                                -18,
                                -18
                              ],
                              "referencedDeclaration": -18,
                              "type": "function (bool,string memory) pure",
                              "value": "require"
                            },
                            "id": 3280,
                            "name": "Identifier",
                            "src": "3546:7:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": "&&",
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": ">=",
                                  "type": "bool"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3275,
                                      "type": "uint256",
                                      "value": "index"
                                    },
                                    "id": 3281,
                                    "name": "Identifier",
                                    "src": "3554:5:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "hexvalue": "30",
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "subdenomination": null,
                                      "token": "number",
                                      "type": "int_const 0",
                                      "value": "0"
                                    },
                                    "id": 3282,
                                    "name": "Literal",
                                    "src": "3563:1:15"
                                  }
                                ],
                                "id": 3283,
                                "name": "BinaryOperation",
                                "src": "3554:10:15"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "<",
                                  "type": "bool"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3275,
                                      "type": "uint256",
                                      "value": "index"
                                    },
                                    "id": 3284,
                                    "name": "Identifier",
                                    "src": "3568:5:15"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "member_name": "length",
                                      "referencedDeclaration": null,
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": true,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "elements",
                                          "referencedDeclaration": 3022,
                                          "type": "struct Allocations.Allocation storage ref[] storage ref"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3273,
                                              "type": "struct Allocations.Map storage pointer",
                                              "value": "map"
                                            },
                                            "id": 3285,
                                            "name": "Identifier",
                                            "src": "3576:3:15"
                                          }
                                        ],
                                        "id": 3286,
                                        "name": "MemberAccess",
                                        "src": "3576:12:15"
                                      }
                                    ],
                                    "id": 3287,
                                    "name": "MemberAccess",
                                    "src": "3576:19:15"
                                  }
                                ],
                                "id": 3288,
                                "name": "BinaryOperation",
                                "src": "3568:27:15"
                              }
                            ],
                            "id": 3289,
                            "name": "BinaryOperation",
                            "src": "3554:41:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "4d6170206f7574206f6620626f756e6473",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "string",
                              "type": "literal_string \"Map out of bounds\"",
                              "value": "Map out of bounds"
                            },
                            "id": 3290,
                            "name": "Literal",
                            "src": "3597:19:15"
                          }
                        ],
                        "id": 3291,
                        "name": "FunctionCall",
                        "src": "3546:71:15"
                      }
                    ],
                    "id": 3292,
                    "name": "ExpressionStatement",
                    "src": "3546:71:15"
                  },
                  {
                    "attributes": {
                      "functionReturnParameters": 3279
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "type": "struct Allocations.Allocation storage ref"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "isConstant": false,
                              "isLValue": true,
                              "isPure": false,
                              "lValueRequested": false,
                              "member_name": "elements",
                              "referencedDeclaration": 3022,
                              "type": "struct Allocations.Allocation storage ref[] storage ref"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3273,
                                  "type": "struct Allocations.Map storage pointer",
                                  "value": "map"
                                },
                                "id": 3293,
                                "name": "Identifier",
                                "src": "3635:3:15"
                              }
                            ],
                            "id": 3294,
                            "name": "MemberAccess",
                            "src": "3635:12:15"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3275,
                              "type": "uint256",
                              "value": "index"
                            },
                            "id": 3295,
                            "name": "Identifier",
                            "src": "3648:5:15"
                          }
                        ],
                        "id": 3296,
                        "name": "IndexAccess",
                        "src": "3635:19:15"
                      }
                    ],
                    "id": 3297,
                    "name": "Return",
                    "src": "3628:26:15"
                  }
                ],
                "id": 3298,
                "name": "Block",
                "src": "3536:125:15"
              }
            ],
            "id": 3299,
            "name": "FunctionDefinition",
            "src": "3440:221:15"
          }
        ],
        "id": 3300,
        "name": "ContractDefinition",
        "src": "316:3347:15"
      }
    ],
    "id": 3301,
    "name": "SourceUnit",
    "src": "33:3631:15"
  },
  "compiler": {
    "name": "solc",
    "version": "0.6.12+commit.27d51765.Emscripten.clang"
  },
  "networks": {
    "5777": {
      "events": {},
      "links": {
        "Zipper": "0x9aCb20008f8AacFbb54e98Cf41E9eD102F58dEe7"
      },
      "address": "0xfe5C7De552400944aFDa0543eC1F86547657220A",
      "transactionHash": "0x41c4ff379b3dacc80c4ab3b254379f7273093eaada8c429e2744fa2fadabdc0e"
    }
  },
  "schemaVersion": "3.4.8",
  "updatedAt": "2022-09-18T09:39:15.159Z",
  "networkType": "ethereum",
  "devdoc": {
    "author": "Giovanni Rescinito",
    "kind": "dev",
    "methods": {
      "getAllocationAt(Allocations.Map storage,uint256)": {
        "params": {
          "index": "allocation for which the probability is required",
          "map": "dictionary containing allocations"
        },
        "returns": {
          "_0": "the allocation stored at a specified index"
        }
      },
      "getAllocations(Allocations.Map storage)": {
        "params": {
          "map": "dictionary containing allocations"
        },
        "returns": {
          "_0": "the list of allocations and the list of corresponding probabilities"
        }
      },
      "getP(Allocations.Allocation)": {
        "params": {
          "a": "allocation for which the probability is required"
        },
        "returns": {
          "_0": "the probability associated to the allocation"
        }
      },
      "getShares(Allocations.Allocation)": {
        "params": {
          "a": "allocation for which the winners per cluster are required"
        },
        "returns": {
          "_0": "the winners per cluster associated to the allocation"
        }
      },
      "length(Allocations.Map storage)": {
        "params": {
          "map": "dictionary containing allocations"
        },
        "returns": {
          "_0": "the number of allocations stored"
        }
      },
      "setAllocation(Allocations.Map storage,uint256[],uint256)": {
        "params": {
          "a": "winners per cluster to insert/modify",
          "map": "dictionary containing allocations",
          "p": "probability of the specific allocation"
        }
      },
      "updateShares(Allocations.Map storage,uint256,uint256[])": {
        "params": {
          "index": "index of the allocation to modify",
          "map": "dictionary containing allocations",
          "shares": "winners per cluster to update"
        }
      }
    },
    "title": "Dictionary storing allocations",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "setAllocation(Allocations.Map storage,uint256[],uint256)": {
        "notice": "creates a new allocation or updates the probability of an existing one"
      },
      "updateShares(Allocations.Map storage,uint256,uint256[])": {
        "notice": "updates the winners per cluster of an allocation specified by its index"
      }
    },
    "notice": "Data structure implemented as an iterable map, produced during the apportionment algorithm to store allocations",
    "version": 1
  }
}